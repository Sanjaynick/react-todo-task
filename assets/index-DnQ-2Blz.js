(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Tf={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function RE(){if($p)return xl;$p=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var Jp;function wE(){return Jp||(Jp=1,Tf.exports=RE()),Tf.exports}var pe=wE(),Af={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function DE(){if(Wp)return Tt;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function $(C,X,et){this.props=C,this.context=X,this.refs=nt,this.updater=et||G}$.prototype.isReactComponent={},$.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=$.prototype;function gt(C,X,et){this.props=C,this.context=X,this.refs=nt,this.updater=et||G}var ft=gt.prototype=new Et;ft.constructor=gt,Z(ft,$.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function N(C,X,et,J,ut,bt){return et=bt.ref,{$$typeof:s,type:C,key:X,ref:et!==void 0?et:null,props:bt}}function S(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return X[et]})}var M=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function R(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,X,et,J,ut){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case A:return pt=C._init,ie(pt(C._payload),X,et,J,ut)}}if(pt)return ut=ut(C),pt=J===""?"."+U(C,0):J,xt(ut)?(et="",pt!=null&&(et=pt.replace(M,"$&/")+"/"),ie(ut,X,et,"",function(Un){return Un})):ut!=null&&(w(ut)&&(ut=S(ut,et+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+pt)),X.push(ut)),1;pt=0;var we=J===""?".":J+":";if(xt(C))for(var Kt=0;Kt<C.length;Kt++)J=C[Kt],bt=we+U(J,Kt),pt+=ie(J,X,et,bt,ut);else if(Kt=I(C),typeof Kt=="function")for(C=Kt.call(C),Kt=0;!(J=C.next()).done;)J=J.value,bt=we+U(J,Kt++),pt+=ie(J,X,et,bt,ut);else if(bt==="object"){if(typeof C.then=="function")return ie(Me(C),X,et,J,ut);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function j(C,X,et){if(C==null)return C;var J=[],ut=0;return ie(C,J,"","",function(bt){return X.call(et,bt,ut++)}),J}function tt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Tt.Children={map:j,forEach:function(C,X,et){j(C,function(){X.apply(this,arguments)},et)},count:function(C){var X=0;return j(C,function(){X++}),X},toArray:function(C){return j(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=$,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,X,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=Z({},C.props),ut=C.key,bt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ut=""+X.key),X)!zt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(J[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)J.children=et;else if(1<pt){for(var we=Array(pt),Kt=0;Kt<pt;Kt++)we[Kt]=arguments[Kt+2];J.children=we}return N(C.type,ut,void 0,void 0,bt,J)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,X,et){var J,ut={},bt=null;if(X!=null)for(J in X.key!==void 0&&(bt=""+X.key),X)zt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=X[J]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var we=Array(pt),Kt=0;Kt<pt;Kt++)we[Kt]=arguments[Kt+2];ut.children=we}if(C&&C.defaultProps)for(J in pt=C.defaultProps,pt)ut[J]===void 0&&(ut[J]=pt[J]);return N(C,bt,void 0,void 0,null,ut)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:p,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Tt.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},Tt.startTransition=function(C){var X=vt.T,et={};vt.T=et;try{var J=C(),ut=vt.S;ut!==null&&ut(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,lt)}catch(bt){lt(bt)}finally{vt.T=X}},Tt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Tt.use=function(C){return vt.H.use(C)},Tt.useActionState=function(C,X,et){return vt.H.useActionState(C,X,et)},Tt.useCallback=function(C,X){return vt.H.useCallback(C,X)},Tt.useContext=function(C){return vt.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,X){return vt.H.useDeferredValue(C,X)},Tt.useEffect=function(C,X,et){var J=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,X)},Tt.useId=function(){return vt.H.useId()},Tt.useImperativeHandle=function(C,X,et){return vt.H.useImperativeHandle(C,X,et)},Tt.useInsertionEffect=function(C,X){return vt.H.useInsertionEffect(C,X)},Tt.useLayoutEffect=function(C,X){return vt.H.useLayoutEffect(C,X)},Tt.useMemo=function(C,X){return vt.H.useMemo(C,X)},Tt.useOptimistic=function(C,X){return vt.H.useOptimistic(C,X)},Tt.useReducer=function(C,X,et){return vt.H.useReducer(C,X,et)},Tt.useRef=function(C){return vt.H.useRef(C)},Tt.useState=function(C){return vt.H.useState(C)},Tt.useSyncExternalStore=function(C,X,et){return vt.H.useSyncExternalStore(C,X,et)},Tt.useTransition=function(){return vt.H.useTransition()},Tt.version="19.1.0",Tt}var ty;function ad(){return ty||(ty=1,Af.exports=DE()),Af.exports}var zl=ad(),Sf={exports:{}},Ul={},bf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function CE(){return ey||(ey=1,function(s){function e(j,tt){var lt=j.length;j.push(tt);t:for(;0<lt;){var Lt=lt-1>>>1,C=j[Lt];if(0<u(C,tt))j[Lt]=tt,j[lt]=C,lt=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],lt=j.pop();if(lt!==tt){j[0]=lt;t:for(var Lt=0,C=j.length,X=C>>>1;Lt<X;){var et=2*(Lt+1)-1,J=j[et],ut=et+1,bt=j[ut];if(0>u(J,lt))ut<C&&0>u(bt,J)?(j[Lt]=bt,j[ut]=lt,Lt=ut):(j[Lt]=J,j[et]=lt,Lt=et);else if(ut<C&&0>u(bt,lt))j[Lt]=bt,j[ut]=lt,Lt=ut;else break t}}return tt}function u(j,tt){var lt=j.sortIndex-tt.sortIndex;return lt!==0?lt:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,D=null,I=3,G=!1,Z=!1,nt=!1,$=!1,Et=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(j){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=j)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function vt(j){if(nt=!1,xt(j),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,U());else{var tt=i(_);tt!==null&&ie(vt,tt.startTime-j)}}var zt=!1,N=-1,S=5,w=-1;function O(){return $?!0:!(s.unstable_now()-w<S)}function M(){if($=!1,zt){var j=s.unstable_now();w=j;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,gt(N),N=-1),G=!0;var lt=I;try{e:{for(xt(j),D=i(v);D!==null&&!(D.expirationTime>j&&O());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,I=D.priorityLevel;var C=Lt(D.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){D.callback=C,xt(j),tt=!0;break e}D===i(v)&&a(v),xt(j)}else a(v);D=i(v)}if(D!==null)tt=!0;else{var X=i(_);X!==null&&ie(vt,X.startTime-j),tt=!1}}break t}finally{D=null,I=lt,G=!1}tt=void 0}}finally{tt?U():zt=!1}}}var U;if(typeof ft=="function")U=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){Et(M,0)};function ie(j,tt){N=Et(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(j){switch(I){case 1:case 2:case 3:var tt=3;break;default:tt=I}var lt=I;I=tt;try{return j()}finally{I=lt}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=I;I=j;try{return tt()}finally{I=lt}},s.unstable_scheduleCallback=function(j,tt,lt){var Lt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,j={id:A++,callback:tt,priorityLevel:j,startTime:lt,expirationTime:C,sortIndex:-1},lt>Lt?(j.sortIndex=lt,e(_,j),i(v)===null&&j===i(_)&&(nt?(gt(N),N=-1):nt=!0,ie(vt,lt-Lt))):(j.sortIndex=C,e(v,j),Z||G||(Z=!0,zt||(zt=!0,U()))),j},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(j){var tt=I;return function(){var lt=I;I=tt;try{return j.apply(this,arguments)}finally{I=lt}}}}(Rf)),Rf}var ny;function VE(){return ny||(ny=1,bf.exports=CE()),bf.exports}var wf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function IE(){if(iy)return Ge;iy=1;var s=ad();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=p(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:I,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:D,integrity:I,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ge.requestFormReset=function(v){a.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var ry;function OE(){if(ry)return wf.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wf.exports=IE(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function NE(){if(ay)return Ul;ay=1;var s=VE(),e=ad(),i=OE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ie=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function X(t){return{current:t}}function et(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function J(t,n){C++,Lt[C]=t.current,t.current=n}var ut=X(null),bt=X(null),pt=X(null),we=X(null);function Kt(t,n){switch(J(pt,n),J(bt,t),J(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rp(n),t=wp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),J(ut,t)}function Un(){et(ut),et(bt),et(pt)}function Ui(t){t.memoizedState!==null&&J(we,t);var n=ut.current,r=wp(n,t.type);n!==r&&(J(bt,t),J(ut,r))}function ai(t){bt.current===t&&(et(ut),et(bt)),we.current===t&&(et(we),Vl._currentValue=lt)}var Rr=Object.prototype.hasOwnProperty,wr=s.unstable_scheduleCallback,Dr=s.unstable_cancelCallback,ws=s.unstable_shouldYield,au=s.unstable_requestPaint,mn=s.unstable_now,Ec=s.unstable_getCurrentPriorityLevel,Ds=s.unstable_ImmediatePriority,pa=s.unstable_UserBlockingPriority,Cr=s.unstable_NormalPriority,Tc=s.unstable_LowPriority,ya=s.unstable_IdlePriority,Cs=s.log,su=s.unstable_setDisableYieldValue,re=null,qt=null;function rn(t){if(typeof Cs=="function"&&su(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(re,t)}catch{}}var je=Math.clz32?Math.clz32:Vr,lu=Math.log,Ac=Math.LN2;function Vr(t){return t>>>=0,t===0?32:31-(lu(t)/Ac|0)|0}var Ir=256,Or=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _a(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Nr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function Os(){var t=Or;return Or<<=1,(Or&62914560)===0&&(Or=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ns(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),F=1<<H;E[H]=0,b[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}r&=~F}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ms(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Qp(t.type))}function uu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,he="__reactProps$"+Wt,gn="__reactContainer$"+Wt,xs="__reactEvents$"+Wt,Sc="__reactListeners$"+Wt,Pi="__reactHandles$"+Wt,ou="__reactResources$"+Wt,Mr="__reactMarker$"+Wt;function Bi(t){delete t[_e],delete t[he],delete t[xs],delete t[Sc],delete t[Pi]}function ui(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ip(t);t!==null;){if(r=t[_e])return r;t=Ip(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Mr]=!0}var Us=new Set,Ea={};function Vn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(Ea[t]=n,t=0;t<n.length;t++)Us.add(n[t])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},xr={};function fu(t){return Rr.call(xr,t)?!0:Rr.call(hu,t)?!1:cu.test(t)?xr[t]=!0:(hu[t]=!0,!1)}function ki(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ur,du;function ci(t){if(Ur===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",du=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+du}var Ta=!1;function Aa(t,n){if(!t||Ta)return"";Ta=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ta=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function zs(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Aa(t.type,!1);case 11:return Aa(t.type.render,!1);case 1:return Aa(t.type,!0);case 31:return ci("Activity");default:return""}}function Sa(t){try{var n="";do n+=zs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bc(t){var n=Ls(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ba(t){t._valueTracker||(t._valueTracker=bc(t))}function Ps(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ls(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rc=/[\n"\\]/g;function fe(t){return t.replace(Rc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ke(n)):r!=null?qi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Br.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Bs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&mu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&mu(t,f,n[f])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Dc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function qs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ps(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hi(t,!!r.multiple,n,!1)}}}var kn=!1;function gu(t,n,r){if(kn)return t(n,r);kn=!0;try{var l=t(n);return l}finally{if(kn=!1,(di!==null||mi!==null)&&(uo(),di&&(n=di,t=mi,mi=di=null,qs(n),t)))for(n=0;n<t.length;n++)qs(t[n])}}function kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(In)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{_n=!1}var qn=null,ji=null,gi=null;function js(){if(gi)return gi;var t,n=ji,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Hs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Hs,this.isPropagationStopped=Hs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=De(Bt),jr=A({},Bt,{view:0,detail:0}),pu=De(jr),Da,Ca,Gn,Hr=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(Da=t.screenX-Gn.screenX,Ca=t.screenY-Gn.screenY):Ca=Da=0,Gn=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),vn=De(Hr),yu=A({},Hr,{dataTransfer:0}),Cc=De(yu),Gr=A({},jr,{relatedTarget:0}),Va=De(Gr),Gs=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=De(Gs),_u=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=De(_u),Vc=A({},Bt,{data:0}),Qs=De(Vc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function Fr(){return Fs}var Tu=A({},jr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=De(Tu),Au=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=De(Au),pi=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Su=De(pi),bu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=De(bu),wu=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=De(wu),Ze=A({},Bt,{newState:0,oldState:0}),Du=De(Ze),Cu=[9,13,27,32],Qn=In&&"CompositionEvent"in window,o=null;In&&"documentMode"in document&&(o=document.documentMode);var m=In&&"TextEvent"in window&&!o,g=In&&(!Qn||o&&8<o&&11>=o),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return Cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Qn&&q(t,n)?(t=js(),gi=ji=qn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function yi(t,n,r,l){di?mi?mi.push(l):mi=[l]:di=l,n=go(n,"onChange"),0<n.length&&(r=new wa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Fn=null;function Xs(t){Ep(t,0)}function Vu(t){var n=Pn(t);if(Ps(n))return t}function qd(t,n){if(t==="change")return n}var jd=!1;if(In){var Ic;if(In){var Oc="oninput"in document;if(!Oc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Oc=typeof Hd.oninput=="function"}Ic=Oc}else Ic=!1;jd=Ic&&(!document.documentMode||9<document.documentMode)}function Gd(){Ue&&(Ue.detachEvent("onpropertychange",Qd),Fn=Ue=null)}function Qd(t){if(t.propertyName==="value"&&Vu(Fn)){var n=[];yi(n,Fn,t,yn(t)),gu(Xs,n)}}function e0(t,n,r){t==="focusin"?(Gd(),Ue=n,Fn=r,Ue.attachEvent("onpropertychange",Qd)):t==="focusout"&&Gd()}function n0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Fn)}function i0(t,n){if(t==="click")return Vu(n)}function r0(t,n){if(t==="input"||t==="change")return Vu(n)}function a0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:a0;function Ks(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yd(t,n){var r=Fd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Fd(r)}}function Xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var s0=In&&"documentMode"in document&&11>=document.documentMode,xa=null,Mc=null,Zs=null,xc=!1;function Zd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xc||xa==null||xa!==zr(l)||(l=xa,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zs&&Ks(Zs,l)||(Zs=l,l=go(Mc,"onSelect"),0<l.length&&(n=new wa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Uc={},$d={};In&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Xr(t){if(Uc[t])return Uc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in $d)return Uc[t]=n[r];return t}var Jd=Xr("animationend"),Wd=Xr("animationiteration"),tm=Xr("animationstart"),l0=Xr("transitionrun"),u0=Xr("transitionstart"),o0=Xr("transitioncancel"),em=Xr("transitionend"),nm=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function On(t,n){nm.set(t,n),Vn(n,[t])}var im=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=im.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Sa(n)},im.set(t,n),n)}return{value:t,source:n,stack:Sa(n)}}var Tn=[],za=0,Lc=0;function Iu(){for(var t=za,n=Lc=za=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&rm(r,c,f)}}function Ou(t,n,r,l){Tn[za++]=t,Tn[za++]=n,Tn[za++]=r,Tn[za++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,r,l){return Ou(t,n,r,l),Nu(t)}function La(t,n){return Ou(t,null,null,n),Nu(t)}function rm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Nu(t){if(50<Tl)throw Tl=0,Gh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={};function c0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new c0(t,n,r,l)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function am(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Bc(t)&&(y=1);else if(typeof t=="string")y=fE(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=ln(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return Kr(r.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=ln(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case vt:return t=ln(13,r,n,c),t.elementType=vt,t.lanes=f,t;case zt:return t=ln(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ft:y=10;break t;case gt:y=9;break t;case xt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function kc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function qc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ba=[],ka=0,xu=null,Uu=0,An=[],Sn=0,Zr=null,vi=1,Ei="";function $r(t,n){Ba[ka++]=Uu,Ba[ka++]=xu,xu=t,Uu=n}function sm(t,n,r){An[Sn++]=vi,An[Sn++]=Ei,An[Sn++]=Zr,Zr=t;var l=vi;t=Ei;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-je(n)+c|r<<c|l,Ei=f+t}else vi=1<<f|r<<c|l,Ei=t}function jc(t){t.return!==null&&($r(t,1),sm(t,1,0))}function Hc(t){for(;t===xu;)xu=Ba[--ka],Ba[ka]=null,Uu=Ba[--ka],Ba[ka]=null;for(;t===Zr;)Zr=An[--Sn],An[Sn]=null,Ei=An[--Sn],An[Sn]=null,vi=An[--Sn],An[Sn]=null}var $e=null,ae=null,Pt=!1,Jr=null,Yn=!1,Gc=Error(a(519));function Wr(t){var n=Error(a(418,""));throw Ws(En(n,t)),Gc}function lm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Dt(Sl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ba(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Pr(n,l.value,l.defaultValue,l.children),ba(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||bp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=po),n=!0):n=!1,n||Wr(t)}function um(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:$e=$e.return}}function $s(t){if(t!==$e)return!1;if(!Pt)return um(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||lf(t.type,t.memoizedProps)),r=!r),r&&ae&&Wr(t),um(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,rr(t.type)?(t=hf,hf=null,ae=t):ae=n):ae=$e?Mn(t.stateNode.nextSibling):null;return!0}function Js(){ae=$e=null,Pt=!1}function om(){var t=Jr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Jr=null),t}function Ws(t){Jr===null?Jr=[t]:Jr.push(t)}var Qc=X(null),ta=null,Ti=null;function Hi(t,n,r){J(Qc,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=Qc.current,et(Qc)}function Fc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Yc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Fc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Fc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function tl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Yc(n,t,r,l),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return cm(ta,t)}function Lu(t,n){return ta===null&&ea(t),cm(t,n)}function cm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var h0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},f0=s.unstable_scheduleCallback,d0=s.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new h0,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&f0(d0,function(){t.controller.abort()})}var nl=null,Kc=0,qa=0,ja=null;function m0(t,n){if(nl===null){var r=nl=[];Kc=0,qa=$h(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Kc++,n.then(hm,hm),n}function hm(){if(--Kc===0&&nl!==null){ja!==null&&(ja.status="fulfilled");var t=nl;nl=null,qa=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function g0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var fm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&m0(t,n),fm!==null&&fm(t,n)};var na=X(null);function Zc(){var t=na.current;return t!==null?t:Zt.pooledCache}function Pu(t,n){n===null?J(na,na.current):J(na,n.pool)}function dm(){var t=Zc();return t===null?null:{parent:Te._currentValue,pool:t}}var il=Error(a(460)),mm=Error(a(474)),Bu=Error(a(542)),$c={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function pm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ku,ku),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t;default:if(typeof n.status=="string")n.then(ku,ku);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t}throw rl=n,il}}var rl=null;function ym(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}function _m(t){if(t===il||t===Bu)throw Error(a(483))}var Gi=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Nu(t),rm(t,null,r),n}return Ou(t,l,n,r),Nu(t)}function al(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ms(t,r)}}function th(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var eh=!1;function sl(){if(eh){var t=ja;if(t!==null)throw t}}function ll(t,n,r,l){eh=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===qa&&(eh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;B=n;var Yt=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){F=mt.call(Yt,F,B);break t}F=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,B=typeof mt=="function"?mt.call(Yt,F,B):mt,B==null)break t;F=A({},F,B);break t;case 2:Gi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=k,b=F):H=H.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),tr|=y,t.lanes=y,t.memoizedState=F}}function vm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Em(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)vm(r[t],n)}var Ha=X(null),qu=X(0);function Tm(t,n){t=Vi,J(qu,t),J(Ha,n),Vi=t|n.baseLanes}function nh(){J(qu,Vi),J(Ha,Ha.current)}function ih(){Vi=qu.current,et(Ha),et(qu)}var Yi=0,At=null,Qt=null,de=null,ju=!1,Ga=!1,ia=!1,Hu=0,ul=0,Qa=null,p0=0;function ue(){throw Error(a(321))}function rh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function ah(t,n,r,l,c,f){return Yi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?rg:ag,ia=!1,f=r(l,c),ia=!1,Ga&&(f=Sm(n,r,l,c)),Am(t),f}function Am(t){j.H=Ku;var n=Qt!==null&&Qt.next!==null;if(Yi=0,de=Qt=At=null,ju=!1,ul=0,Qa=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&zu(t)&&(Ve=!0))}function Sm(t,n,r,l){At=t;var c=0;do{if(Ga&&(Qa=null),ul=0,Ga=!1,25<=c)throw Error(a(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=S0,f=n(r,l)}while(Ga);return f}function y0(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?ol(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function sh(){var t=Hu!==0;return Hu=0,t}function lh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function uh(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}Yi=0,de=Qt=At=null,Ga=!1,ul=Hu=0,Qa=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?At.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?At.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?At.memoizedState=de=t:de=de.next=t}return de}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var n=ul;return ul+=1,Qa===null&&(Qa=[]),t=pm(Qa,t,n),n=At,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?rg:ag),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===ft)return He(t)}throw Error(a(438,String(t)))}function ch(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=oh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=me();return hh(n,Qt,t)}function hh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,H=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ot&F)===F:(Yi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===qa&&(H=!0);else if((Yi&B)===B){P=P.next,B===qa&&(H=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,At.lanes|=B,tr|=B;F=P.action,ia&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,At.lanes|=F,tr|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(Ve=!0,H&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function bm(t,n,r){var l=At,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=Dm.bind(null,l,c,t);if(cl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Fu(),wm.bind(null,l,c,r,n),null),Zt===null)throw Error(a(349));f||(Yi&124)!==0||Rm(l,n,r)}return r}function Rm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=oh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function wm(t,n,r,l){n.value=r,n.getSnapshot=l,Cm(n)&&Vm(t)}function Dm(t,n,r){return r(function(){Cm(n)&&Vm(t)})}function Cm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Vm(t){var n=La(t,2);n!==null&&fn(n,t,2)}function dh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ia){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Im(t,n,r,l){return t.baseState=r,hh(t,Qt,typeof l=="function"?l:Si)}function _0(t,n,r,l,c){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Om(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Om(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Nm(t,n,E)}catch(P){mh(t,n,P)}finally{j.T=f}}else try{f=r(c,l),Nm(t,n,f)}catch(P){mh(t,n,P)}}function Nm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Mm(t,n,l)},function(l){return mh(t,n,l)}):Mm(t,n,r)}function Mm(t,n,r){n.status="fulfilled",n.value=r,xm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Om(t,r)))}function mh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,xm(n),n=n.next;while(n!==l)}t.action=null}function xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Um(t,n){return n}function zm(t,n){if(Pt){var r=Zt.formState;if(r!==null){t:{var l=At;if(Pt){if(ae){e:{for(var c=ae,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Mn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Um,lastRenderedState:n},r.queue=l,r=eg.bind(null,At,l),l.dispatch=r,l=dh(!1),f=vh.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=_0.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Lm(t){var n=me();return Pm(n,Qt,t)}function Pm(t,n,r){if(n=hh(t,n,Um)[0],t=Qu(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ol(n)}catch(y){throw y===il?Bu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Fa(9,Fu(),v0.bind(null,c,r),null)),[l,f,t]}function v0(t,n){t.action=n}function Bm(t){var n=me(),r=Qt;if(r!==null)return Pm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=oh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Fu(){return{destroy:void 0,resource:void 0}}function km(){return me().memoizedState}function Yu(t,n,r,l){var c=Je();l=l===void 0?null:l,At.flags|=t,c.memoizedState=Fa(1|n,Fu(),r,l)}function cl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&rh(l,Qt.memoizedState.deps)?c.memoizedState=Fa(n,f,r,l):(At.flags|=t,c.memoizedState=Fa(1|n,f,r,l))}function qm(t,n){Yu(8390656,8,t,n)}function jm(t,n){cl(2048,8,t,n)}function Hm(t,n){return cl(4,2,t,n)}function Gm(t,n){return cl(4,4,t,n)}function Qm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fm(t,n,r){r=r!=null?r.concat([t]):null,cl(4,4,Qm.bind(null,n,t),r)}function gh(){}function Ym(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&rh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Xm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&rh(n,l[1]))return l[0];if(l=t(),ia){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function ph(t,n,r){return r===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=$g(),At.lanes|=t,tr|=t,r)}function Km(t,n,r,l){return sn(r,n)?r:Ha.current!==null?(t=ph(t,r,l),sn(t,n)||(Ve=!0),t):(Yi&42)===0?(Ve=!0,t.memoizedState=r):(t=$g(),At.lanes|=t,tr|=t,n)}function Zm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,vh(t,!1,n,r);try{var b=c(),P=j.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=g0(b,l);hl(t,n,H,hn(t))}else hl(t,n,l,hn(t))}catch(F){hl(t,n,{then:function(){},status:"rejected",reason:F},hn())}finally{tt.p=f,j.T=y}}function E0(){}function yh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=$m(t).queue;Zm(t,c,n,lt,r===null?E0:function(){return Jm(t),r(l)})}function $m(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jm(t){var n=$m(t).next.queue;hl(t,n,{},hn())}function _h(){return He(Vl)}function Wm(){return me().memoizedState}function tg(){return me().memoizedState}function T0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Qi(r);var l=Fi(n,t,r);l!==null&&(fn(l,n,r),al(l,n,r)),n={cache:Xc()},t.payload=n;return}n=n.return}}function A0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(t)?ng(n,r):(r=Pc(t,n,r,l),r!==null&&(fn(r,t,l),ig(r,n,l)))}function eg(t,n,r){var l=hn();hl(t,n,r,l)}function hl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))ng(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Ou(t,n,c,0),Zt===null&&Iu(),!1}catch{}finally{}if(r=Pc(t,n,c,l),r!==null)return fn(r,t,l),ig(r,n,l),!0}return!1}function vh(t,n,r,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=Pc(t,r,l,2),n!==null&&fn(n,t,2)}function Xu(t){var n=t.alternate;return t===At||n!==null&&n===At}function ng(t,n){Ga=ju=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ig(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ms(t,r)}}var Ku={readContext:He,use:Gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},rg={readContext:He,use:Gu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:qm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Yu(4194308,4,Qm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ia){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(ia){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=A0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,r=eg.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:gh,useDeferredValue:function(t,n){var r=Je();return ph(r,t,n)},useTransition:function(){var t=dh(!1);return t=Zm.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Je();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Ot&124)!==0||Rm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,qm(Dm.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,Fu(),wm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Zt.identifierPrefix;if(Pt){var r=Ei,l=vi;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=p0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:_h,useFormState:zm,useActionState:zm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=vh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return Je().memoizedState=T0.bind(null,At)}},ag={readContext:He,use:Gu,useCallback:Ym,useContext:He,useEffect:jm,useImperativeHandle:Fm,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Xm,useReducer:Qu,useRef:km,useState:function(){return Qu(Si)},useDebugValue:gh,useDeferredValue:function(t,n){var r=me();return Km(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Qu(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:bm,useId:Wm,useHostTransitionStatus:_h,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var r=me();return Im(r,Qt,t,n)},useMemoCache:ch,useCacheRefresh:tg},S0={readContext:He,use:Gu,useCallback:Ym,useContext:He,useEffect:jm,useImperativeHandle:Fm,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Xm,useReducer:fh,useRef:km,useState:function(){return fh(Si)},useDebugValue:gh,useDeferredValue:function(t,n){var r=me();return Qt===null?ph(r,t,n):Km(r,Qt.memoizedState,t,n)},useTransition:function(){var t=fh(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:bm,useId:Wm,useHostTransitionStatus:_h,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var r=me();return Qt!==null?Im(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ch,useCacheRefresh:tg},Ya=null,fl=0;function Zu(t){var n=fl;return fl+=1,Ya===null&&(Ya=[]),pm(Ya,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){var n=t._init;return n(t._payload)}function lg(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=_i(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,Q){return V===null||V.tag!==6?(V=kc(L,x.mode,Q),V.return=x,V):(V=c(V,L),V.return=x,V)}function b(x,V,L,Q){var rt=L.type;return rt===Z?H(x,V,L.props.children,Q,L.key):V!==null&&(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&sg(rt)===V.type)?(V=c(V,L.props),dl(V,L),V.return=x,V):(V=Mu(L.type,L.key,L.props,null,x.mode,Q),dl(V,L),V.return=x,V)}function P(x,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=qc(L,x.mode,Q),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function H(x,V,L,Q,rt){return V===null||V.tag!==7?(V=Kr(L,x.mode,Q,rt),V.return=x,V):(V=c(V,L),V.return=x,V)}function F(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return L=Mu(V.type,V.key,V.props,null,x.mode,L),dl(L,V),L.return=x,L;case G:return V=qc(V,x.mode,L),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),F(x,V,L)}if(ie(V)||U(V))return V=Kr(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return F(x,Zu(V),L);if(V.$$typeof===ft)return F(x,Lu(x,V),L);$u(x,V)}return null}function B(x,V,L,Q){var rt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(x,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===rt?b(x,V,L,Q):null;case G:return L.key===rt?P(x,V,L,Q):null;case S:return rt=L._init,L=rt(L._payload),B(x,V,L,Q)}if(ie(L)||U(L))return rt!==null?null:H(x,V,L,Q,null);if(typeof L.then=="function")return B(x,V,Zu(L),Q);if(L.$$typeof===ft)return B(x,V,Lu(x,L),Q);$u(x,L)}return null}function k(x,V,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(V,x,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return x=x.get(Q.key===null?L:Q.key)||null,b(V,x,Q,rt);case G:return x=x.get(Q.key===null?L:Q.key)||null,P(V,x,Q,rt);case S:var Rt=Q._init;return Q=Rt(Q._payload),k(x,V,L,Q,rt)}if(ie(Q)||U(Q))return x=x.get(L)||null,H(V,x,Q,rt,null);if(typeof Q.then=="function")return k(x,V,L,Zu(Q),rt);if(Q.$$typeof===ft)return k(x,V,L,Lu(V,Q),rt);$u(V,Q)}return null}function mt(x,V,L,Q){for(var rt=null,Rt=null,st=V,ht=V=0,Oe=null;st!==null&&ht<L.length;ht++){st.index>ht?(Oe=st,st=null):Oe=st.sibling;var Ut=B(x,st,L[ht],Q);if(Ut===null){st===null&&(st=Oe);break}t&&st&&Ut.alternate===null&&n(x,st),V=f(Ut,V,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,st=Oe}if(ht===L.length)return r(x,st),Pt&&$r(x,ht),rt;if(st===null){for(;ht<L.length;ht++)st=F(x,L[ht],Q),st!==null&&(V=f(st,V,ht),Rt===null?rt=st:Rt.sibling=st,Rt=st);return Pt&&$r(x,ht),rt}for(st=l(st);ht<L.length;ht++)Oe=k(st,x,ht,L[ht],Q),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?ht:Oe.key),V=f(Oe,V,ht),Rt===null?rt=Oe:Rt.sibling=Oe,Rt=Oe);return t&&st.forEach(function(or){return n(x,or)}),Pt&&$r(x,ht),rt}function ct(x,V,L,Q){if(L==null)throw Error(a(151));for(var rt=null,Rt=null,st=V,ht=V=0,Oe=null,Ut=L.next();st!==null&&!Ut.done;ht++,Ut=L.next()){st.index>ht?(Oe=st,st=null):Oe=st.sibling;var or=B(x,st,Ut.value,Q);if(or===null){st===null&&(st=Oe);break}t&&st&&or.alternate===null&&n(x,st),V=f(or,V,ht),Rt===null?rt=or:Rt.sibling=or,Rt=or,st=Oe}if(Ut.done)return r(x,st),Pt&&$r(x,ht),rt;if(st===null){for(;!Ut.done;ht++,Ut=L.next())Ut=F(x,Ut.value,Q),Ut!==null&&(V=f(Ut,V,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return Pt&&$r(x,ht),rt}for(st=l(st);!Ut.done;ht++,Ut=L.next())Ut=k(st,x,ht,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),V=f(Ut,V,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return t&&st.forEach(function(bE){return n(x,bE)}),Pt&&$r(x,ht),rt}function Yt(x,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var rt=L.key;V!==null;){if(V.key===rt){if(rt=L.type,rt===Z){if(V.tag===7){r(x,V.sibling),Q=c(V,L.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&sg(rt)===V.type){r(x,V.sibling),Q=c(V,L.props),dl(Q,L),Q.return=x,x=Q;break t}r(x,V);break}else n(x,V);V=V.sibling}L.type===Z?(Q=Kr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Mu(L.type,L.key,L.props,null,x.mode,Q),dl(Q,L),Q.return=x,x=Q)}return y(x);case G:t:{for(rt=L.key;V!==null;){if(V.key===rt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(x,V.sibling),Q=c(V,L.children||[]),Q.return=x,x=Q;break t}else{r(x,V);break}else n(x,V);V=V.sibling}Q=qc(L,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return rt=L._init,L=rt(L._payload),Yt(x,V,L,Q)}if(ie(L))return mt(x,V,L,Q);if(U(L)){if(rt=U(L),typeof rt!="function")throw Error(a(150));return L=rt.call(L),ct(x,V,L,Q)}if(typeof L.then=="function")return Yt(x,V,Zu(L),Q);if(L.$$typeof===ft)return Yt(x,V,Lu(x,L),Q);$u(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(x,V.sibling),Q=c(V,L),Q.return=x,x=Q):(r(x,V),Q=kc(L,x.mode,Q),Q.return=x,x=Q),y(x)):r(x,V)}return function(x,V,L,Q){try{fl=0;var rt=Yt(x,V,L,Q);return Ya=null,rt}catch(st){if(st===il||st===Bu)throw st;var Rt=ln(29,st,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var Xa=lg(!0),ug=lg(!1),bn=X(null),Xn=null;function Xi(t){var n=t.alternate;J(Ae,Ae.current&1),J(bn,t),Xn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Xn=t)}function og(t){if(t.tag===22){if(J(Ae,Ae.current),J(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Ki()}function Ki(){J(Ae,Ae.current),J(bn,bn.current)}function bi(t){et(bn),Xn===t&&(Xn=null),et(Ae)}var Ae=X(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||cf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Th={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Fi(t,c,l),n!==null&&(fn(n,t,l),al(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Fi(t,c,l),n!==null&&(fn(n,t,l),al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Fi(t,l,r),n!==null&&(fn(n,t,r),al(n,t,r))}};function cg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(r,l)||!Ks(c,f):!0}function hg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Th.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){Wu(t)}function dg(t){console.error(t)}function mg(t){Wu(t)}function to(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ah(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){to(t,n)},r}function pg(t){return t=Qi(t),t.tag=3,t}function yg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){gg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gg(n,r,l),typeof c!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function b0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&tl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?Fh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===$c?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return r.flags|=65536,l===$c?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Xh(t,l,c)),!1}throw Error(a(435,r.tag))}return Xh(t,l,c),Fh(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Gc&&(t=Error(a(422),{cause:l}),Ws(En(t,r)))):(l!==Gc&&(n=Error(a(423),{cause:l}),Ws(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=Ah(t.stateNode,l,c),th(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),El===null?El=[f]:El.push(f),se!==4&&(se=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Ah(r.stateNode,l,t),th(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=pg(c),yg(c,t,r,l),th(r,c),!1}r=r.return}while(r!==null);return!1}var _g=Error(a(461)),Ve=!1;function ze(t,n,r,l){n.child=t===null?ug(n,null,r,l):Xa(n,t.child,r,l)}function vg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=ah(t,n,r,y,f,c),E=sh(),t!==null&&!Ve?(lh(t,n,c),Ri(t,n,c)):(Pt&&E&&jc(n),n.flags|=1,ze(t,n,l,c),n.child)}function Eg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Bc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Tg(t,n,f,l,c)):(t=Mu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ih(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ks,r(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Ih(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Sh(t,n,r,l,c)}function Ag(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Sg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?Tm(n,f):nh(),og(n);else return n.lanes=n.childLanes=536870912,Sg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Pu(n,f.cachePool),Tm(n,f),Ki(),n.memoizedState=null):(t!==null&&Pu(n,null),nh(),Ki());return ze(t,n,c,r),n.child}function Sg(t,n,r,l){var c=Zc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Pu(n,null),nh(),og(n),t!==null&&tl(t,n,l,!0),null}function eo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Sh(t,n,r,l,c){return ea(n),r=ah(t,n,r,l,void 0,c),l=sh(),t!==null&&!Ve?(lh(t,n,c),Ri(t,n,c)):(Pt&&l&&jc(n),n.flags|=1,ze(t,n,r,c),n.child)}function bg(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=Sm(n,l,r,c),Am(t),l=sh(),t!==null&&!Ve?(lh(t,n,f),Ri(t,n,f)):(Pt&&l&&jc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Rg(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=Pa,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Pa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Eh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Th.enqueueReplaceState(f,f.state,null),ll(n,l,f,c),sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ra(r,E);f.props=b;var P=f.context,H=r.contextType;y=Pa,typeof H=="object"&&H!==null&&(y=He(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&hg(n,f,l,y),Gi=!1;var B=n.memoizedState;f.state=B,ll(n,l,f,c),sl(),P=n.memoizedState,E||B!==P||Gi?(typeof F=="function"&&(Eh(n,r,F,l),P=n.memoizedState),(b=Gi||cg(n,r,b,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),y=n.memoizedProps,H=ra(r,y),f.props=H,F=n.pendingProps,B=f.context,P=r.contextType,b=Pa,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&hg(n,f,l,b),Gi=!1,B=n.memoizedState,f.state=B,ll(n,l,f,c),sl();var k=n.memoizedState;y!==F||B!==k||Gi||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Eh(n,r,E,l),k=n.memoizedState),(H=Gi||cg(n,r,H,l,B,k,b)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,eo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,c),n.child=Xa(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function wg(t,n,r,l){return Js(),n.flags|=256,ze(t,n,r,l),n.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(t){return{baseLanes:t,cachePool:dm()}}function wh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function Dg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Xi(n):Ki(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,ae=null,b=!0):b=!1}b||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return cf(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=no({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Rh(r),c.childLanes=wh(t,y,r),n.memoizedState=bh,l):(Xi(n),Dh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Ch(t,n,r)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=no({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xa(n,t.child,null,r),l=n.child,l.memoizedState=Rh(r),l.childLanes=wh(t,y,r),n.memoizedState=bh,n=c);else if(Xi(n),cf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Ws({value:l,source:null,stack:null}),n=Ch(t,n,r)}else if(Ve||tl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Zt,y!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,La(t,l),fn(y,t,l),_g;E.data==="$?"||Fh(),n=Ch(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Mn(E.nextSibling),$e=n,Pt=!0,Jr=null,Yn=!1,t!==null&&(An[Sn++]=vi,An[Sn++]=Ei,An[Sn++]=Zr,vi=t.id,Ei=t.overflow,Zr=n),n=Dh(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=_i(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=_i(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Rh(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=dm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=wh(t,y,r),n.memoizedState=bh,l):(Xi(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Dh(t,n){return n=no({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function no(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ch(t,n,r){return Xa(n,t.child,null,r),t=Dh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fc(t.return,n,r)}function Vh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Vg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cg(t,r,n);else if(t.tag===19)Cg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ju(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Vh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ju(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Vh(n,!0,r,null,f);break;case"together":Vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(tl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function R0(t,n,r){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),Hi(n,Te,t.memoizedState.cache),Js();break;case 27:case 5:Ui(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Dg(t,n,r):(Xi(n),t=Ri(t,n,r),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(tl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Vg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Ag(t,n,r);case 24:Hi(n,Te,t.memoizedState.cache)}return Ri(t,n,r)}function Ig(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Ih(t,r)&&(n.flags&128)===0)return Ve=!1,R0(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&sm(n,Uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Bc(l)?(t=ra(l,t),n.tag=1,n=Rg(null,n,l,t,r)):(n.tag=0,n=Sh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=vg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Eg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return Sh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),Rg(t,n,l,c,r);case 3:t:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Wc(t,n),ll(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Hi(n,Te,l),l!==f.cache&&Yc(n,[Te],r,!0),sl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wg(t,n,l,r);break t}else if(l!==c){c=En(Error(a(424)),n),Ws(c),n=wg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Mn(t.firstChild),$e=n,Pt=!0,Jr=null,Yn=!0,r=ug(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Js(),l===c){n=Ri(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return eo(t,n),t===null?(r=xp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=yo(pt.current).createElement(r),l[_e]=n,l[he]=t,Pe(l,r,t),le(l),n.stateNode=l):n.memoizedState=xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&Pt&&(l=n.stateNode=Op(n.type,n.pendingProps,pt.current),$e=n,Yn=!0,c=ae,rr(n.type)?(hf=c,ae=Mn(l.firstChild)):ae=c),ze(t,n,n.pendingProps.children,r),eo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=W0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,$e=n,ae=Mn(l.firstChild),Yn=!1,c=!0):c=!1),c||Wr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:y!==null&&lf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ah(t,n,y0,null,null,r),Vl._currentValue=c),eo(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=tE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,$e=n,ae=null,t=!0):t=!1),t||Wr(n)),null;case 13:return Dg(t,n,r);case 4:return Kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,r):ze(t,n,l,r),n.child;case 11:return vg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=He(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,r);case 15:return Tg(t,n,n.type,n.pendingProps,r);case 19:return Vg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=no(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Ag(t,n,r);case 24:return ea(n),l=He(Te),t===null?(c=Zc(),c===null&&(c=Zt,f=Xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Jc(n),Hi(n,Te,c)):((t.lanes&r)!==0&&(Wc(t,n),ll(n,null,null,r),sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,Te,l)):(l=f.cache,Hi(n,Te,l),l!==c.cache&&Yc(n,[Te],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function wi(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bp(n)){if(n=bn.current,n!==null&&((Ot&4194048)===Ot?Xn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Xn))throw rl=$c,mm;t.flags|=8192}}function io(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Os():536870912,t.lanes|=n,Ja|=n)}function ml(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function w0(t,n,r){var l=n.pendingProps;switch(Hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($s(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,om())),ee(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(ee(n),Og(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),ee(n),Og(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),ee(n),n.flags&=-16777217),null;case 27:ai(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ut.current,$s(n)?lm(n):(t=Op(c,l,r),n.stateNode=t,wi(n))}return ee(n),null;case 5:if(ai(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ut.current,$s(n))lm(n);else{switch(c=yo(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=pt.current,$s(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||bp(t.nodeValue,r)),t||Wr(n)}else t=yo(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$s(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=om(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),io(n,n.updateQueue),ee(n),null;case 4:return Un(),t===null&&ef(n.stateNode.containerInfo),ee(n),null;case 10:return Ai(n.type),ee(n),null;case 19:if(et(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ml(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,ml(c,!1),t=f.updateQueue,n.updateQueue=t,io(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)am(r,t),r=r.sibling;return J(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>so&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ju(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,io(n,t),ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*mn()-c.renderingStartTime>so&&r!==536870912&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Ae.current,J(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return bi(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&io(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function D0(t,n){switch(Hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),Un(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ai(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ae),null;case 4:return Un(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),ih(),t!==null&&et(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Ng(t,n){switch(Hc(n),n.tag){case 3:Ai(Te),Un();break;case 26:case 27:case 5:ai(n);break;case 4:Un();break;case 13:bi(n);break;case 19:et(Ae);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),ih(),t!==null&&et(na);break;case 24:Ai(Te)}}function gl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Zi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(H){Xt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Xt(n,n.return,H)}}function Mg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Em(n,r)}catch(l){Xt(t,t.return,l)}}}function xg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function pl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Ug(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Oh(t,n,r){try{var l=t.stateNode;X0(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Nh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=po));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Mh(t,n,r),t=t.sibling;t!==null;)Mh(t,n,r),t=t.sibling}function ro(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ro(t,n,r),t=t.sibling;t!==null;)ro(t,n,r),t=t.sibling}function Lg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[_e]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var Di=!1,oe=!1,xh=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function C0(t,n){if(t=t.containerInfo,af=So,t=Kd(t),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,H=0,F=t,B=null;e:for(;;){for(var k;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++H===l&&(b=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(sf={focusedElem:t,selectionRange:r},So=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Xt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Bg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&gl(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Mg(r),l&512&&pl(r,r.return);break;case 3:if($i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Em(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Lg(r);case 26:case 5:$i(t,r),n===null&&l&4&&Ug(r),l&512&&pl(r,r.return);break;case 12:$i(t,r);break;case 13:$i(t,r),l&4&&jg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=L0.bind(null,r),eE(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||oe,c=Di;var f=oe;Di=l,(oe=n)&&!f?Ji(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Di=c,oe=f}break;case 30:break;default:$i(t,r)}}function kg(t){var n=t.alternate;n!==null&&(t.alternate=null,kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Ci(t,n,r){for(r=r.child;r!==null;)qg(t,n,r),r=r.sibling}function qg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Kn(r,n),Ci(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Kn(r,n);var l=te,c=We;rr(r.type)&&(te=r.stateNode,We=!1),Ci(t,n,r),Rl(r.stateNode),te=l,We=c;break;case 5:oe||Kn(r,n);case 6:if(l=te,c=We,te=null,Ci(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(We?(t=te,Vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ml(t)):Vp(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Ci(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:oe||Zi(2,r,n),oe||Zi(4,r,n),Ci(t,n,r);break;case 1:oe||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&xg(r,n,l)),Ci(t,n,r);break;case 21:Ci(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ci(t,n,r),oe=l;break;default:Ci(t,n,r)}}function jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(r){Xt(n,n.return,r)}}function V0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Pg),n;default:throw Error(a(435,t.tag))}}function Uh(t,n){var r=V0(t);n.forEach(function(l){var c=P0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));qg(f,y,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var Nn=null;function Hg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),on(t),l&4&&(Zi(3,t,t.return),gl(3,t),Zi(5,t,t.return));break;case 1:un(n,t),on(t),l&512&&(oe||r===null||Kn(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(un(n,t),on(t),l&512&&(oe||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[_e]=t,le(f),l=f;break t;case"link":var y=Lp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Lp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,le(f),l=f}t.stateNode=l}else Pp(c,t.type,t.stateNode);else t.stateNode=zp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Pp(c,t.type,t.stateNode):zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Oh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),on(t),l&512&&(oe||r===null||Kn(r,r.return)),r!==null&&l&4&&Oh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),on(t),l&512&&(oe||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Oh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(xh=!0);break;case 6:if(un(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(Eo=null,c=Nn,Nn=_o(n.containerInfo),un(n,t),Nn=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(k){Xt(t,t.return,k)}xh&&(xh=!1,Gg(t));break;case 4:l=Nn,Nn=_o(t.stateNode.containerInfo),un(n,t),on(t),Nn=l;break;case 12:un(n,t),on(t);break;case 13:un(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Di,H=oe;if(Di=P||c,oe=H||b,un(n,t),oe=H,Di=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Di||oe||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Xt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Uh(t,r))));break;case 19:un(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 30:break;case 21:break;default:un(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(zg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Nh(t);ro(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(pn(y,""),r.flags&=-33);var E=Nh(t);ro(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Nh(t);Mh(t,P,b);break;default:throw Error(a(161))}}catch(H){Xt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),aa(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xg(n,n.return,r),aa(n);break;case 27:Rl(n.stateNode);case 26:case 5:Kn(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Ji(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,r),gl(4,f);break;case 1:if(Ji(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)vm(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Mg(f),pl(f,f.return);break;case 27:Lg(f);case 26:case 5:Ji(c,f,r),r&&l===null&&y&4&&Ug(f),pl(f,f.return);break;case 12:Ji(c,f,r);break;case 13:Ji(c,f,r),r&&y&4&&jg(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,r),pl(f,f.return);break;case 30:break;default:Ji(c,f,r)}n=n.sibling}}function zh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function Lh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qg(t,n,r,l),n=n.sibling}function Qg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),c&2048&&gl(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){Zn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,r,l):yl(t,n):f._visibility&2?Zn(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&zh(y,n);break;case 24:Zn(t,n,r,l),c&2048&&Lh(n.alternate,n);break;default:Zn(t,n,r,l)}}function Ka(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(f,y,E,b,c),gl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ka(f,y,E,b,c):yl(f,y):(H._visibility|=2,Ka(f,y,E,b,c)),c&&P&2048&&zh(y.alternate,y);break;case 24:Ka(f,y,E,b,c),c&&P&2048&&Lh(y.alternate,y);break;default:Ka(f,y,E,b,c)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:yl(r,l),c&2048&&zh(l.alternate,l);break;case 24:yl(r,l),c&2048&&Lh(l.alternate,l);break;default:yl(r,l)}n=n.sibling}}var _l=8192;function Za(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Fg(t),t=t.sibling}function Fg(t){switch(t.tag){case 26:Za(t),t.flags&_l&&t.memoizedState!==null&&mE(Nn,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Nn;Nn=_o(t.stateNode.containerInfo),Za(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=_l,_l=16777216,Za(t),_l=n):Za(t));break;default:Za(t)}}function Yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Kg(l,t)}Yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xg(t),t=t.sibling}function Xg(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ao(t)):vl(t);break;default:vl(t)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Kg(l,t)}Yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),ao(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ao(n));break;default:ao(n)}t=t.sibling}}function Kg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Zi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(kg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var I0={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},O0=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,wt=null,Ot=0,Ht=0,cn=null,Wi=!1,$a=!1,Ph=!1,Vi=0,se=0,tr=0,sa=0,Bh=0,Rn=0,Ja=0,El=null,tn=null,kh=!1,qh=0,so=1/0,lo=null,er=null,Le=0,nr=null,Wa=null,ts=0,jh=0,Hh=null,Zg=null,Tl=0,Gh=null;function hn(){if((jt&2)!==0&&Ot!==0)return Ot&-Ot;if(j.T!==null){var t=qa;return t!==0?t:$h()}return Li()}function $g(){Rn===0&&(Rn=(Ot&536870912)===0||Pt?Is():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function fn(t,n,r){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(es(t,0),ir(t,Ot,Rn,!1)),li(t,r),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(sa|=r),se===4&&ir(t,Ot,Rn,!1)),$n(t))}function Jg(t,n,r){if((jt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Nr(t,n),c=l?x0(t,n):Yh(t,n,!0),f=l;do{if(c===0){$a&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!N0(r)){c=Yh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=El;var b=E.current.memoizedState.isDehydrated;if(b&&(es(E,y).flags|=256),y=Yh(E,y,!1),y!==2){if(Ph&&!b){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){es(t,0),ir(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,Rn,!Wi);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=qh+300-mn(),10<c)){if(ir(l,n,Rn,!Wi),_a(l,0,!0)!==0)break t;l.timeoutHandle=Dp(Wg.bind(null,l,r,tn,lo,kh,n,Rn,sa,Ja,Wi,f,2,-0,0),c);break t}Wg(l,r,tn,lo,kh,n,Rn,sa,Ja,Wi,f,0,-0,0)}}break}while(!0);$n(t)}function Wg(t,n,r,l,c,f,y,E,b,P,H,F,B,k){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:dE},Fg(n),F=gE(),F!==null)){t.cancelPendingCommit=F(sp.bind(null,t,n,f,r,l,c,y,E,b,H,1,B,k)),ir(t,f,y,!P);return}sp(t,n,f,r,l,c,y,E,b)}function N0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~Bh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function uo(){return(jt&6)===0?(Al(0),!1):!0}function Qh(){if(wt!==null){if(Ht===0)var t=wt.return;else t=wt,Ti=ta=null,uh(t),Ya=null,fl=0,t=wt;for(;t!==null;)Ng(t.alternate,t),t=t.return;wt=null}}function es(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Z0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Qh(),Zt=t,wt=r=_i(t.current,null),Ot=n,Ht=0,cn=null,Wi=!1,$a=Nr(t,n),Ph=!1,Ja=Rn=Bh=sa=tr=se=0,tn=El=null,kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Iu(),r}function tp(t,n){At=null,j.H=Ku,n===il||n===Bu?(n=ym(),Ht=3):n===mm?(n=ym(),Ht=4):Ht=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,wt===null&&(se=1,to(t,En(n,t.current)))}function ep(){var t=j.H;return j.H=Ku,t===null?Ku:t}function np(){var t=j.A;return j.A=I0,t}function Fh(){se=4,Wi||(Ot&4194048)!==Ot&&bn.current!==null||($a=!0),(tr&134217727)===0&&(sa&134217727)===0||Zt===null||ir(Zt,Ot,Rn,!1)}function Yh(t,n,r){var l=jt;jt|=2;var c=ep(),f=np();(Zt!==t||Ot!==n)&&(lo=null,es(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&wt!==null){var E=wt,b=cn;switch(Ht){case 8:Qh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Ht;if(Ht=0,cn=null,ns(t,E,b,P),r&&$a){y=0;break t}break;default:P=Ht,Ht=0,cn=null,ns(t,E,b,P)}}M0(),y=se;break}catch(H){tp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ti=ta=null,jt=l,j.H=c,j.A=f,wt===null&&(Zt=null,Ot=0,Iu()),y}function M0(){for(;wt!==null;)ip(wt)}function x0(t,n){var r=jt;jt|=2;var l=ep(),c=np();Zt!==t||Ot!==n?(lo=null,so=mn()+500,es(t,n)):$a=Nr(t,n);t:do try{if(Ht!==0&&wt!==null){n=wt;var f=cn;e:switch(Ht){case 1:Ht=0,cn=null,ns(t,n,f,1);break;case 2:case 9:if(gm(f)){Ht=0,cn=null,rp(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),$n(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:gm(f)?(Ht=0,cn=null,rp(n)):(Ht=0,cn=null,ns(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Bp(y)){Ht=0,cn=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,oo(P)):wt=null}break e}}Ht=0,cn=null,ns(t,n,f,5);break;case 6:Ht=0,cn=null,ns(t,n,f,6);break;case 8:Qh(),se=6;break t;default:throw Error(a(462))}}U0();break}catch(H){tp(t,H)}while(!0);return Ti=ta=null,j.H=l,j.A=c,jt=r,wt!==null?0:(Zt=null,Ot=0,Iu(),se)}function U0(){for(;wt!==null&&!ws();)ip(wt)}function ip(t){var n=Ig(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?oo(t):wt=n}function rp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=bg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=bg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:uh(n);default:Ng(r,n),n=wt=am(n,Vi),n=Ig(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?oo(t):wt=n}function ns(t,n,r,l){Ti=ta=null,uh(n),Ya=null,fl=0;var c=n.return;try{if(b0(t,c,n,r,Ot)){se=1,to(t,En(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;se=1,to(t,En(r,t.current)),wt=null;return}n.flags&32768?(Pt||l===1?t=!0:$a||(Ot&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ap(n,t)):oo(n)}function oo(t){var n=t;do{if((n.flags&32768)!==0){ap(n,Wi);return}t=n.return;var r=w0(n.alternate,n,Vi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);se===0&&(se=5)}function ap(t,n){do{var r=D0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);se=6,wt=null}function sp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do co();while(Le!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lc,Ns(t,r,f,y,E,b),t===Zt&&(wt=Zt=null,Ot=0),Wa=n,nr=t,ts=r,jh=f,Hh=c,Zg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,B0(Cr,function(){return hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=jt,jt|=4;try{C0(t,n,r)}finally{jt=y,tt.p=c,j.T=l}}Le=1,lp(),up(),op()}}function lp(){if(Le===1){Le=0;var t=nr,n=Wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{Hg(n,t);var f=sf,y=Kd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Xd(E.ownerDocument.documentElement,E)){if(b!==null&&Nc(E)){var P=b.start,H=b.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var k=B.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Yt=b.end===void 0?ct:Math.min(b.end,mt);!k.extend&&ct>Yt&&(y=Yt,Yt=ct,ct=y);var x=Yd(E,ct),V=Yd(E,Yt);if(x&&V&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var L=F.createRange();L.setStart(x.node,x.offset),k.removeAllRanges(),ct>Yt?(k.addRange(L),k.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),k.addRange(L))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}So=!!af,sf=af=null}finally{jt=c,tt.p=l,j.T=r}}t.current=n,Le=2}}function up(){if(Le===2){Le=0;var t=nr,n=Wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{Bg(t,n.alternate,n)}finally{jt=c,tt.p=l,j.T=r}}Le=3}}function op(){if(Le===4||Le===3){Le=0,au();var t=nr,n=Wa,r=ts,l=Zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Wa=nr=null,cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(er=null),va(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(ts&3)!==0&&co(),$n(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Gh?Tl++:(Tl=0,Gh=t):Tl=0,Al(0)}}function cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function co(t){return lp(),up(),op(),hp()}function hp(){if(Le!==5)return!1;var t=nr,n=jh;jh=0;var r=va(ts),l=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Hh,Hh=null;var f=nr,y=ts;if(Le=0,Wa=nr=null,ts=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,Xg(f.current),Qg(f,f.current,y,r),jt=E,Al(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,j.T=l,cp(t,n)}}function fp(t,n,r){n=En(r,n),n=Ah(t.stateNode,n,2),t=Fi(t,n,2),t!==null&&(li(t,2),$n(t))}function Xt(t,n,r){if(t.tag===3)fp(t,t,r);else for(;n!==null;){if(n.tag===3){fp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=En(r,t),r=pg(2),l=Fi(n,r,2),l!==null&&(yg(r,l,n,t),li(l,2),$n(l));break}}n=n.return}}function Xh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new O0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ph=!0,c.add(r),t=z0.bind(null,t,n,r),n.then(t,t))}function z0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Ot&r)===r&&(se===4||se===3&&(Ot&62914560)===Ot&&300>mn()-qh?(jt&2)===0&&es(t,0):Bh|=r,Ja===Ot&&(Ja=0)),$n(t)}function dp(t,n){n===0&&(n=Os()),t=La(t,n),t!==null&&(li(t,n),$n(t))}function L0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),dp(t,r)}function P0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),dp(t,r)}function B0(t,n){return wr(t,n)}var ho=null,is=null,Kh=!1,fo=!1,Zh=!1,la=0;function $n(t){t!==is&&t.next===null&&(is===null?ho=is=t:is=is.next=t),fo=!0,Kh||(Kh=!0,q0())}function Al(t,n){if(!Zh&&fo){Zh=!0;do for(var r=!1,l=ho;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,yp(l,f))}else f=Ot,f=_a(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Nr(l,f)||(r=!0,yp(l,f));l=l.next}while(r);Zh=!1}}function k0(){mp()}function mp(){fo=Kh=!1;var t=0;la!==0&&(K0()&&(t=la),la=0);for(var n=mn(),r=null,l=ho;l!==null;){var c=l.next,f=gp(l,n);f===0?(l.next=null,r===null?ho=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||(f&3)!==0)&&(fo=!0)),l=c}Al(t)}function gp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Vs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=Ot,r=_a(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Nr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Dr(l),va(r)){case 2:case 8:r=pa;break;case 32:r=Cr;break;case 268435456:r=ya;break;default:r=Cr}return l=pp.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function pp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(co()&&t.callbackNode!==r)return null;var l=Ot;return l=_a(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jg(t,l,n),gp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?pp.bind(null,t):null)}function yp(t,n){if(co())return null;Jg(t,n,!0)}function q0(){$0(function(){(jt&6)!==0?wr(Ds,k0):mp()})}function $h(){return la===0&&(la=Is()),la}function _p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function vp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function j0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=_p((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?_p(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new wa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var b=y?vp(c,y):new FormData(c);yh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?vp(c,y):new FormData(c),yh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Jh=0;Jh<zc.length;Jh++){var Wh=zc[Jh],H0=Wh.toLowerCase(),G0=Wh[0].toUpperCase()+Wh.slice(1);On(H0,"on"+G0)}On(Jd,"onAnimationEnd"),On(Wd,"onAnimationIteration"),On(tm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(l0,"onTransitionRun"),On(u0,"onTransitionStart"),On(o0,"onTransitionCancel"),On(em,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Ep(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Wu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Wu(H)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[xs];r===void 0&&(r=n[xs]=new Set);var l=t+"__bubble";r.has(l)||(Tp(n,t,2,!1),r.add(l))}function tf(t,n,r){var l=0;n&&(l|=4),Tp(r,t,l,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[mo]){t[mo]=!0,Us.forEach(function(r){r!=="selectionchange"&&(Q0.has(r)||tf(r,!1,t),tf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mo]||(n[mo]=!0,tf("selectionchange",!1,n))}}function Tp(t,n,r,l){switch(Qp(n)){case 2:var c=_E;break;case 8:c=vE;break;default:c=pf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function nf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}gu(function(){var P=f,H=yn(r),F=[];t:{var B=nm.get(t);if(B!==void 0){var k=wa,mt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":k=Na;break;case"focusin":mt="focus",k=Va;break;case"focusout":mt="blur",k=Va;break;case"beforeblur":case"afterblur":k=Va;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Su;break;case Jd:case Wd:case tm:k=Ia;break;case em:k=Ru;break;case"scroll":case"scrollend":k=pu;break;case"wheel":k=Ma;break;case"copy":case"cut":case"paste":k=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ys;break;case"toggle":case"beforetoggle":k=Du}var ct=(n&4)!==0,Yt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var V=P,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=kr(V,x),Q!=null&&ct.push(bl(V,Q,L))),Yt)break;V=V.return}0<ct.length&&(B=new k(B,mt,null,r,H),F.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==fi&&(mt=r.relatedTarget||r.fromElement)&&(ui(mt)||mt[gn]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(mt=r.relatedTarget||r.toElement,k=P,mt=mt?ui(mt):null,mt!==null&&(Yt=h(mt),ct=mt.tag,mt!==Yt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(k=null,mt=P),k!==mt)){if(ct=vn,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Ys,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Yt=k==null?B:Pn(k),L=mt==null?B:Pn(mt),B=new ct(Q,V+"leave",k,r,H),B.target=Yt,B.relatedTarget=L,Q=null,ui(H)===P&&(ct=new ct(x,V+"enter",mt,r,H),ct.target=L,ct.relatedTarget=Yt,Q=ct),Yt=Q,k&&mt)e:{for(ct=k,x=mt,V=0,L=ct;L;L=rs(L))V++;for(L=0,Q=x;Q;Q=rs(Q))L++;for(;0<V-L;)ct=rs(ct),V--;for(;0<L-V;)x=rs(x),L--;for(;V--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=rs(ct),x=rs(x)}ct=null}else ct=null;k!==null&&Ap(F,B,k,ct,!1),mt!==null&&Yt!==null&&Ap(F,Yt,mt,ct,!0)}}t:{if(B=P?Pn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var rt=qd;else if(Ee(B))if(jd)rt=r0;else{rt=n0;var Rt=e0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ks(P.elementType)&&(rt=qd):rt=i0;if(rt&&(rt=rt(t,P))){yi(F,rt,r,H);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&qi(B,"number",B.value)}switch(Rt=P?Pn(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(xa=Rt,Mc=P,Zs=null);break;case"focusout":Zs=Mc=xa=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Zd(F,r,H);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":Zd(F,r,H)}var st;if(Qn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?q(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(g&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=js()):(qn=H,ji="value"in qn?qn.value:qn.textContent,Vt=!0)),Rt=go(P,ht),0<Rt.length&&(ht=new Qs(ht,t,null,r,H),F.push({event:ht,listeners:Rt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?ve(t,r):It(t,r))&&(ht=go(P,"onBeforeInput"),0<ht.length&&(Rt=new Qs("onBeforeInput","beforeinput",null,r,H),F.push({event:Rt,listeners:ht}),Rt.data=st)),j0(F,t,P,r,H)}Ep(F,n)})}function bl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function go(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kr(t,r),c!=null&&l.unshift(bl(t,c,f)),c=kr(t,n),c!=null&&l.push(bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ap(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=kr(r,f),P!=null&&y.unshift(bl(r,P,b))):c||(P=kr(r,f),P!=null&&y.push(bl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var F0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(F0,`
`).replace(Y0,"")}function bp(t,n){return n=Sp(n),Sp(t)===n}function po(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Bs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ra(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ra(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=po);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),ki(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wc.get(r)||r,ki(t,r,l))}}function rf(t,n,r,l,c,f){switch(r){case"style":Bs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ki(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}Lr(t,f,E,b,P,y,c,!1),ba(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):r!=null&&hi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Pr(t,l,c,f),ba(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Dt(Sl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(ks(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&rf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function X0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,H=null;for(k in r){var F=r[k];if(r.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(k)||Ft(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=r[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==F&&Ft(t,n,B,k,l,F)}}an(t,y,E,b,P,H,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?hi(t,!!r,B,!1):!!l!=!!r&&(n!=null?hi(t,!!r,n,!0):hi(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Gt(t,B,k);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Ft(t,n,mt,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Ft(t,n,ct,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,k)}return;default:if(ks(n)){for(var Yt in r)B=r[Yt],r.hasOwnProperty(Yt)&&B!==void 0&&!l.hasOwnProperty(Yt)&&rf(t,n,Yt,void 0,l,B);for(H in l)B=l[H],k=r[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||rf(t,n,H,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Ft(t,n,F,B,l,k)}var af=null,sf=null;function yo(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function K0(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var Dp=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(t){return Cp.resolve(null).then(t).catch(J0)}:Dp;function J0(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function Vp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Rl(y.documentElement),r&2&&Rl(y.body),r&4)for(r=y.head,Rl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Mr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ml(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ml(n)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function W0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function tE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function eE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var hf=null;function Ip(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Op(t,n,r){switch(n=yo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var wn=new Map,Np=new Set;function _o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=tt.d;tt.d={f:nE,r:iE,D:rE,C:aE,L:sE,m:lE,X:oE,S:uE,M:cE};function nE(){var t=Ii.f(),n=uo();return t||n}function iE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Jm(n):Ii.r(t)}var as=typeof document>"u"?null:document;function Mp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Np.has(c)||(Np.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),le(n),l.head.appendChild(n)))}}function rE(t){Ii.D(t),Mp("dns-prefetch",t,null)}function aE(t,n){Ii.C(t,n),Mp("preconnect",t,n)}function sE(t,n,r){Ii.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(wl(f))||n==="script"&&l.querySelector(Dl(f))||(n=l.createElement("link"),Pe(n,"link",t),le(n),l.head.appendChild(n)))}}function lE(t,n){Ii.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Dl(f)))return}l=r.createElement("link"),Pe(l,"link",t),le(l),r.head.appendChild(l)}}}function uE(t,n,r){Ii.S(t,n,r);var l=as;if(l&&t){var c=Xe(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(wl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&ff(t,r);var b=y=l.createElement("link");le(b),Pe(b,"link",t),b._p=new Promise(function(P,H){b.onload=P,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function oE(t,n){Ii.X(t,n);var r=as;if(r&&t){var l=Xe(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Dl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&df(t,n),f=r.createElement("script"),le(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function cE(t,n){Ii.M(t,n);var r=as;if(r&&t){var l=Xe(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Dl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&df(t,n),f=r.createElement("script"),le(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function xp(t,n,r,l){var c=(c=pt.current)?_o(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(wl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||hE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+fe(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function Up(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function hE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),le(n),t.head.appendChild(n))}function ls(t){return'[src="'+fe(t)+'"]'}function Dl(t){return"script[async]"+t}function zp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Pe(l,"style",c),vo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(wl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Up(r),(c=wn.get(c))&&ff(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,vo(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(Dl(f)))?(n.instance=c,le(c),c):(l=r,(c=wn.get(f))&&(l=A({},r),df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vo(l,r.precedence,t));return n.instance}function vo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eo=null;function Lp(t,n,r){if(Eo===null){var l=new Map,c=Eo=new Map;c.set(r,l)}else c=Eo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Pp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function fE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function dE(){}function mE(t,n,r){if(Cl===null)throw Error(a(475));var l=Cl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(r.href),f=t.querySelector(wl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=To.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Up(r),(c=wn.get(c))&&ff(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=To.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function gE(){if(Cl===null)throw Error(a(475));var t=Cl;return t.stylesheets&&t.count===0&&mf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function To(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function mf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,n.forEach(pE,t),Ao=null,To.call(t))}function pE(t,n){if(!(n.state.loading&4)){var r=Ao.get(t);if(r)var l=r.get(null);else{r=new Map,Ao.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=To.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function yE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function kp(t,n,r,l,c,f,y,E,b,P,H,F){return t=new yE(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Jc(f),t}function qp(t){return t?(t=Pa,t):Pa}function jp(t,n,r,l,c,f){c=qp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fi(t,l,n),r!==null&&(fn(r,t,n),al(r,t,n))}function Hp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function gf(t,n){Hp(t,n),(t=t.alternate)&&Hp(t,n)}function Gp(t){if(t.tag===13){var n=La(t,67108864);n!==null&&fn(n,t,67108864),gf(t,67108864)}}var So=!0;function _E(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,pf(t,n,r,l)}finally{tt.p=f,j.T=c}}function vE(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,pf(t,n,r,l)}finally{tt.p=f,j.T=c}}function pf(t,n,r,l){if(So){var c=yf(l);if(c===null)nf(t,n,l,bo,r),Fp(t,l);else if(TE(c,t,n,r,l))l.stopPropagation();else if(Fp(t,l),n&4&&-1<EE.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}$n(f),(jt&6)===0&&(so=mn()+500,Al(0))}}break;case 13:E=La(f,2),E!==null&&fn(E,f,2),uo(),gf(f,2)}if(f=yf(l),f===null&&nf(t,n,l,bo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,r)}}function yf(t){return t=yn(t),_f(t)}var bo=null;function _f(t){if(bo=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bo=t,null}function Qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ec()){case Ds:return 2;case pa:return 8;case Cr:case Tc:return 32;case ya:return 268435456;default:return 32}default:return 32}}var vf=!1,ar=null,sr=null,lr=null,Il=new Map,Ol=new Map,ur=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Nl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Gp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function TE(t,n,r,l,c){switch(n){case"focusin":return ar=Nl(ar,t,n,r,l,c),!0;case"dragenter":return sr=Nl(sr,t,n,r,l,c),!0;case"mouseover":return lr=Nl(lr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Il.set(f,Nl(Il.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Nl(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Yp(t){var n=ui(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,uu(t.priority,function(){if(r.tag===13){var l=hn();l=zi(l);var c=La(r,l);c!==null&&fn(c,r,l),gf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=yf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);fi=l,r.target.dispatchEvent(l),fi=null}else return n=Ln(r),n!==null&&Gp(n),t.blockedOn=r,!1;n.shift()}return!0}function Xp(t,n,r){Ro(t)&&r.delete(n)}function AE(){vf=!1,ar!==null&&Ro(ar)&&(ar=null),sr!==null&&Ro(sr)&&(sr=null),lr!==null&&Ro(lr)&&(lr=null),Il.forEach(Xp),Ol.forEach(Xp)}function wo(t,n){t.blockedOn===n&&(t.blockedOn=null,vf||(vf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,AE)))}var Do=null;function Kp(t){Do!==t&&(Do=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Do===t&&(Do=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(_f(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ml(t){function n(b){return wo(b,t)}ar!==null&&wo(ar,t),sr!==null&&wo(sr,t),lr!==null&&wo(lr,t),Il.forEach(n),Ol.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Yp(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Kp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(_f(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Kp(r)}}}function Ef(t){this._internalRoot=t}Co.prototype.render=Ef.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();jp(r,l,t,n,null,null)},Co.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;jp(t.current,2,null,t,null,null),uo(),n[gn]=null}};function Co(t){this._internalRoot=t}Co.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&Yp(t)}};var Zp=e.version;if(Zp!=="19.1.0")throw Error(a(527,Zp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var SE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{re=Vo.inject(SE),qt=Vo}catch{}}return Ul.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=fg,f=dg,y=mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=kp(t,1,!1,null,null,r,l,c,f,y,E,null),t[gn]=n.current,ef(t),new Ef(n)},Ul.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=fg,y=dg,E=mg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=kp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=qp(null),r=n.current,l=hn(),l=zi(l),c=Qi(l),c.callback=null,Fi(r,c,l),r=l,n.current.lanes=r,li(n,r),$n(n),t[gn]=n.current,ef(t),new Co(n)},Ul.version="19.1.0",Ul}var sy;function ME(){if(sy)return Sf.exports;sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=NE(),Sf.exports}var xE=ME();const UE=({todo:s,deleteTodos:e,editTodo:i})=>pe.jsxs("div",{className:"todo-list-container",children:[pe.jsx("h1",{children:s.text.toUpperCase()}),pe.jsx("button",{onClick:()=>i(s.id),className:"btn edit-btn ",children:"Edit"}),pe.jsx("button",{onClick:()=>e(s.id),className:"btn delete-btn ",children:"Delete"})]}),zE=({todo:s,deleteTodos:e,editTodo:i})=>pe.jsx("div",{className:"todo-items-container",children:s.map(a=>pe.jsx(UE,{todo:a,deleteTodos:e,editTodo:i},a.id))}),LE=()=>{};var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},PE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},__={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,D=(h&3)<<4|p>>4;let I=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(I=64)),a.push(i[A],i[D],i[I],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(y_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):PE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||D==null)throw new BE;const I=h<<2|p>>4;if(a.push(I),_!==64){const G=p<<4&240|_>>2;if(a.push(G),D!==64){const Z=_<<6&192|D;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class BE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kE=function(s){const e=y_(s);return __.encodeByteArray(e,!0)},qo=function(s){return kE(s).replace(/\./g,"")},qE=function(s){try{return __.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=()=>jE().__FIREBASE_DEFAULTS__,GE=()=>{if(typeof process>"u"||typeof ly>"u")return;const s=ly.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},QE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&qE(s[1]);return e&&JSON.parse(e)},sd=()=>{try{return LE()||HE()||GE()||QE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},FE=s=>{var e,i;return(i=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},YE=s=>{const e=FE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},v_=()=>{var s;return(s=sd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qo(JSON.stringify(i)),qo(JSON.stringify(d)),""].join(".")}const ql={};function $E(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function JE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let uy=!1;function WE(s,e){if(typeof window>"u"||typeof document>"u"||!ld(window.location.host)||ql[s]===e||ql[s]||uy)return;ql[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=$E().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{uy=!0,d()},I}function A(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function D(){const I=JE(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),Et=i("preprendIcon"),gt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ft=I.element;p(ft),A($,nt);const xt=_();v(gt,Et),ft.append(gt,Z,$,xt),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eT(){var s;const e=(s=sd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nT(){return!eT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=aT,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E_.prototype.create)}}class E_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?sT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,p,a)}}function sT(s,e){return s.replace(lT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const lT=/\{\$([^}]+)}/g;function jo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(oy(h)&&oy(d)){if(!jo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function oy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(s){return s&&s._delegate?s._delegate:s}class Fl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new XE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),u=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cT(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oT(s){return s===ua?void 0:s}function cT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const fT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},dT=Mt.INFO,mT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},gT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=mT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T_{constructor(e){this.name=e,this._logLevel=dT,this._logHandler=gT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const pT=(s,e)=>e.some(i=>s instanceof i);let cy,hy;function yT(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _T(){return hy||(hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,zf=new WeakMap,S_=new WeakMap,Df=new WeakMap,ud=new WeakMap;function vT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(hr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&A_.set(i,s)}).catch(()=>{}),ud.set(e,s),e}function ET(s){if(zf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});zf.set(s,e)}let Lf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return zf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||S_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function TT(s){Lf=s(Lf)}function AT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Cf(this),e,...i);return S_.set(a,e.sort?e.sort():[e]),hr(a)}:_T().includes(s)?function(...e){return s.apply(Cf(this),e),hr(A_.get(this))}:function(...e){return hr(s.apply(Cf(this),e))}}function ST(s){return typeof s=="function"?AT(s):(s instanceof IDBTransaction&&ET(s),pT(s,yT())?new Proxy(s,Lf):s)}function hr(s){if(s instanceof IDBRequest)return vT(s);if(Df.has(s))return Df.get(s);const e=ST(s);return e!==s&&(Df.set(s,e),ud.set(e,s)),e}const Cf=s=>ud.get(s);function bT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=hr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(hr(d.result),v.oldVersion,v.newVersion,hr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const RT=["get","getKey","getAll","getAllKeys","count"],wT=["put","add","delete","clear"],Vf=new Map;function fy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=wT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||RT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return Vf.set(e,h),h}TT(s=>({...s,get:(e,i,a)=>fy(e,i)||s.get(e,i,a),has:(e,i)=>!!fy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CT(s){const e=s.getComponent();return e?.type==="VERSION"}const Pf="@firebase/app",dy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new T_("@firebase/app"),VT="@firebase/app-compat",IT="@firebase/analytics-compat",OT="@firebase/analytics",NT="@firebase/app-check-compat",MT="@firebase/app-check",xT="@firebase/auth",UT="@firebase/auth-compat",zT="@firebase/database",LT="@firebase/data-connect",PT="@firebase/database-compat",BT="@firebase/functions",kT="@firebase/functions-compat",qT="@firebase/installations",jT="@firebase/installations-compat",HT="@firebase/messaging",GT="@firebase/messaging-compat",QT="@firebase/performance",FT="@firebase/performance-compat",YT="@firebase/remote-config",XT="@firebase/remote-config-compat",KT="@firebase/storage",ZT="@firebase/storage-compat",$T="@firebase/firestore",JT="@firebase/ai",WT="@firebase/firestore-compat",t1="firebase",e1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",n1={[Pf]:"fire-core",[VT]:"fire-core-compat",[OT]:"fire-analytics",[IT]:"fire-analytics-compat",[MT]:"fire-app-check",[NT]:"fire-app-check-compat",[xT]:"fire-auth",[UT]:"fire-auth-compat",[zT]:"fire-rtdb",[LT]:"fire-data-connect",[PT]:"fire-rtdb-compat",[BT]:"fire-fn",[kT]:"fire-fn-compat",[qT]:"fire-iid",[jT]:"fire-iid-compat",[HT]:"fire-fcm",[GT]:"fire-fcm-compat",[QT]:"fire-perf",[FT]:"fire-perf-compat",[YT]:"fire-rc",[XT]:"fire-rc-compat",[KT]:"fire-gcs",[ZT]:"fire-gcs-compat",[$T]:"fire-fst",[WT]:"fire-fst-compat",[JT]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,i1=new Map,kf=new Map;function my(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Go(s){const e=s.name;if(kf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,s);for(const i of Ho.values())my(i,s);for(const i of i1.values())my(i,s);return!0}function r1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function a1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new E_("app","Firebase",s1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=e1;function b_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Bf,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw fr.create("bad-app-name",{appName:String(u)});if(i||(i=v_()),!i)throw fr.create("no-options");const h=Ho.get(u);if(h){if(jo(i,h.options)&&jo(a,h.config))return h;throw fr.create("duplicate-app",{appName:u})}const d=new hT(u);for(const v of kf.values())d.addComponent(v);const p=new l1(i,a,d);return Ho.set(u,p),p}function o1(s=Bf){const e=Ho.get(s);if(!e&&s===Bf&&v_())return b_();if(!e)throw fr.create("no-app",{appName:s});return e}function fs(s,e,i){var a;let u=(a=n1[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(p.join(" "));return}Go(new Fl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebase-heartbeat-database",h1=1,Yl="firebase-heartbeat-store";let If=null;function R_(){return If||(If=bT(c1,h1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),If}async function f1(s){try{const i=(await R_()).transaction(Yl),a=await i.objectStore(Yl).get(w_(s));return await i.done,a}catch(e){if(e instanceof Ts)Ni.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(i.message)}}}async function gy(s,e){try{const a=(await R_()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,w_(s)),await a.done}catch(i){if(i instanceof Ts)Ni.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});Ni.warn(a.message)}}}function w_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=1024,m1=30;class g1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new y1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=py();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>m1){const d=_1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ni.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=py(),{heartbeatsToSend:a,unsentEntries:u}=p1(this._heartbeatsCache.heartbeats),h=qo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function py(){return new Date().toISOString().substring(0,10)}function p1(s,e=d1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),yy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),yy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await f1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function yy(s){return qo(JSON.stringify({version:2,heartbeats:s})).length}function _1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s){Go(new Fl("platform-logger",e=>new DT(e),"PRIVATE")),Go(new Fl("heartbeat",e=>new g1(e),"PRIVATE")),fs(Pf,dy,s),fs(Pf,dy,"esm2017"),fs("fire-js","")}v1("");var E1="firebase",T1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(E1,T1,"app");var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,D_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,M,U){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[M].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],R=S+(U^w&(M^U))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)N[w++]=this.g[S]>>>O&255;return N};function h(N,S){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(w[M]=U,O=!1)}this.g=w}var p={};function v(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return $(_(-N));for(var S=[],w=1,O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return $(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),O=D,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),O=O.j(U).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var D=v(0),I=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,O="";;){var M=xt(w,S).g;w=Et(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,Z(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}s.l=function(N){return N=Et(this,N),nt(N)?-1:Z(N)?0:1};function $(N){for(var S=N.g.length,w=[],O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(I)}s.abs=function(){return nt(this)?$(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(N,S){return N.add($(S))}s.j=function(N){if(Z(this)||Z(N))return D;if(nt(this))return nt(N)?$(this).j($(N)):$($(this).j(N));if(nt(N))return $(this.j($(N)));if(0>this.l(G)&&0>N.l(G))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,R=this.i(O)&65535,Me=N.i(M)>>>16,ie=N.i(M)&65535;w[2*O+2*M]+=R*ie,gt(w,2*O+2*M),w[2*O+2*M+1]+=U*ie,gt(w,2*O+2*M+1),w[2*O+2*M+1]+=R*Me,gt(w,2*O+2*M+1),w[2*O+2*M+2]+=U*Me,gt(w,2*O+2*M+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function gt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function xt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ft(D,D);if(nt(N))return S=xt($(N),S),new ft($(S.g),$(S.h));if(nt(S))return S=xt(N,$(S)),new ft($(S.g),S.h);if(30<N.g.length){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=I,O=S;0>=O.l(N);)w=vt(w),O=vt(O);var M=zt(w,1),U=zt(O,1);for(O=zt(O,2),w=zt(w,2);!Z(O);){var R=U.add(O);0>=R.l(N)&&(M=M.add(w),U=R),O=zt(O,1),w=zt(w,1)}return S=Et(N,M.j(S)),new ft(M,S)}for(M=D;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=_(w),R=U.j(S);nt(R)||0<R.l(N);)w-=O,U=_(w),R=U.j(S);Z(U)&&(U=I),M=M.add(U),N=Et(N,R)}return new ft(M,N)}s.A=function(N){return xt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function vt(N){for(var S=N.g.length+1,w=[],O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function zt(N,S){var w=S>>5;S%=32;for(var O=N.g.length-w,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,D_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,dr=d}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C_,Ll,V_,Uo,qf,I_,O_,N_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Io=="object"&&Io];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,z={next:function(){if(!T&&g<o.length){var q=g++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function D(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function I(o,m,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,I.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,z,q){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[z].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const z=o.length||0,q=T.length||0;o.length=z+q;for(let W=0;W<q;W++)o[z+W]=T[W]}else o.push(T)}}class Et{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function ft(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function zt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function N(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Lt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,g){const T=ie.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Et(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Lt=new Me,C=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function bt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{xt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}Z(bt,J);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Un(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Kt,this.da=this.fa=!1}function Ui(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ai(o){this.src=o,this.g={},this.h=0}ai.prototype.add=function(o,m,g,T,z){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=wr(o,m,T,z);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Un(m,this.src,q,!!T,z),m.fa=g,o.push(m)),m};function Rr(o,m){var g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(Ui(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function wr(o,m,g,T){for(var z=0;z<o.length;++z){var q=o[z];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return z}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),ws={};function au(o,m,g,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)au(o,m[q],g,T,z);return null}return g=su(g),o&&o[we]?o.K(m,g,_(T)?!!T.capture:!1,z):mn(o,m,g,!1,T,z)}function mn(o,m,g,T,z,q){if(!m)throw Error("Invalid event type");var W=_(z)?!!z.capture:!!z,Vt=ya(o);if(Vt||(o[Dr]=Vt=new ai(o)),g=Vt.add(m,g,T,W,q),g.proxy)return g;if(T=Ec(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ut||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Cr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ec(){function o(g){return m.call(o.src,o.listener,g)}const m=Tc;return o}function Ds(o,m,g,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ds(o,m[q],g,T,z);else T=_(T)?!!T.capture:!!T,g=su(g),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],g=wr(q,g,T,z),-1<g&&(Ui(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=ya(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wr(m,g,T,z)),(g=-1<o?m[o]:null)&&pa(g))}function pa(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Rr(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Cr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ya(m))?(Rr(g,o),g.h==0&&(g.src=null,m[Dr]=null)):Ui(o)}}}function Cr(o){return o in ws?ws[o]:ws[o]="on"+o}function Tc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&pa(o),o=g.call(T,m)}return o}function ya(o){return o=o[Dr],o instanceof ai?o:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(o){return typeof o=="function"?o:(o[Cs]||(o[Cs]=function(m){return o.handleEvent(m)}),o[Cs])}function re(){et.call(this),this.i=new ai(this),this.M=this,this.F=null}Z(re,et),re.prototype[we]=!0,re.prototype.removeEventListener=function(o,m,g,T){Ds(this,o,m,g,T)};function qt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var z=m;m=new J(T,o),O(m,z)}if(z=!0,g)for(var q=g.length-1;0<=q;q--){var W=m.g=g[q];z=rn(W,T,!0,m)&&z}if(W=m.g=o,z=rn(W,T,!0,m)&&z,z=rn(W,T,!1,m)&&z,g)for(q=0;q<g.length;q++)W=m.g=g[q],z=rn(W,T,!1,m)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ui(g[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},re.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function rn(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==g){var Vt=W.listener,ve=W.ha||W.src;W.fa&&Rr(o.i,W),z=Vt.call(ve,T)!==!1&&z}}return z&&!T.defaultPrevented}function je(o,m,g){if(typeof o=="function")g&&(o=I(o,g));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function lu(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,lu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ac extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){et.call(this),this.h=o,this.g={}}Z(Vr,et);var Ir=[];function Or(o){zt(o.g,function(m,g){this.g.hasOwnProperty(g)&&pa(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Or(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=p.JSON.stringify,_a=p.JSON.parse,Nr=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Vs(){}Vs.prototype.h=null;function Is(o){return o.h||(o.h=o.i())}function Os(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){J.call(this,"d")}Z(li,J);function Ns(){J.call(this,"c")}Z(Ns,J);var zn={},Ms=null;function zi(){return Ms=Ms||new re}zn.La="serverreachability";function va(o){J.call(this,zn.La,o)}Z(va,J);function Li(o){const m=zi();qt(m,new va(m))}zn.STAT_EVENT="statevent";function uu(o,m){J.call(this,zn.STAT_EVENT,o),this.stat=m}Z(uu,J);function Wt(o){const m=zi();qt(m,new uu(m,o))}zn.Ma="timingevent";function _e(o,m){J.call(this,zn.Ma,o),this.size=m}Z(_e,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function xs(o,m,g,T,z,q){o.info(function(){if(o.g)if(q)for(var W="",Vt=q.split("&"),ve=0;ve<Vt.length;ve++){var It=Vt[ve].split("=");if(1<It.length){var Ce=It[0];It=It[1];var Ee=Ce.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(Ce+"="+It+"&"):W+(Ce+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+W})}function Sc(o,m,g,T,z,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+q+" "+W})}function Pi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(o,g)+(T?" "+T:"")})}function ou(o,m){o.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Mr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return Cn(g)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Pn(){}Z(Pn,Vs),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},Ln=new Pn;function Xe(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Us={},Ea={};function Vn(o,m,g){o.L=1,o.v=Pr(an(m)),o.m=g,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),xr(o),o.A=an(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),qs(g.i,"t",T),o.C=0,g=o.j.J,o.h=new le,o.g=Ru(o.j,g?m:null,!o.m),0<o.O&&(o.M=new Ac(I(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ir[0]=z.toString()),z=Ir);for(var q=0;q<z.length;q++){var W=au(g,z[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Li(),xs(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=yi?Li(3):Li(2)),ki(this);var g=this.g.Z();this.X=g;e:if(cu(this)){var T=yu(this.g);o="";var z=T.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Bn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,Sc(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Vt)){var It=Vt;break e}}It=null}if(g=It)Pi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,g);else{this.o=!1,this.s=3,Wt(12),xe(this),Bn(this);break t}}if(this.P){g=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=hu(this,W),Ue==Ea){Ee==4&&(this.s=4,Wt(14),g=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Us){this.s=4,Wt(15),Pi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Pi(this.i,this.l,Ue,null),Ur(this,Ue);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)Pi(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Fr(Ce),Ce.M=!0,Wt(11))}}else Pi(this.i,this.l,W,null),Ur(this,W);Ee==4&&xe(this),this.o&&!this.J&&(Ee==4?Au(this.j,this):(this.o=!1,xr(this)))}else Cc(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),xe(this),Bn(this)}}}catch{}finally{}};function cu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function hu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Ea:(g=Number(m.substring(g,T)),isNaN(g)?Us:(T+=1,T+g>m.length?Ea:(m=m.slice(T,T+g),o.C=T+g,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function xr(o){o.S=Date.now()+o.I,fu(o,o.I)}function fu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(I(o.ba,o),m)}function ki(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ou(this.i,this.A),this.L!=2&&(Li(),Wt(17)),xe(this),this.s=2,Bn(this)):fu(this,this.S-o)};function Bn(o){o.j.G==0||o.J||Au(o.j,o)}function xe(o){ki(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Or(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ur(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||zs(g.h,o))){if(!o.K&&zs(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Na(g),Ia(g);else break t;Fs(g),Wt(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(I(g.Za,g),6e3));if(1>=Aa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else pi(g,11)}else if((o.K||g.g==o)&&Na(g),!gt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Ce=It[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const Ee=It[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const yi=It[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ue=o.g;if(Ue){const Fn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var q=T.h;q.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Sa(q,q.h),q.h=null))}if(T.D){const Xs=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Xs&&(T.ya=Xs,Gt(T.I,T.D,Xs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=bu(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Vt=W,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(ki(Vt),xr(Vt)),T.g=W}else Eu(T);0<g.i.length&&Oa(g)}else It[0]!="stop"&&It[0]!="close"||pi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?pi(g,7):Gs(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Li(4)}catch{}}var du=class{constructor(o,m){this.g=o,this.map=m}};function ci(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Aa(o){return o.h?1:o.g?o.g.size:0}function zs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Sa(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ci.prototype.cancel=function(){if(this.i=Ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ls(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function bc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function ba(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Ps(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=ba(o),T=bc(o),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],g&&g[q],o)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),z=null;if(0<=T){var q=o[g].substring(0,T);z=o[g].substring(T+1)}else q=o[g];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Lr(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.s),this.l=o.l;var m=o.i,g=new fi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),hi(this,g),this.m=o.m}else o&&(m=String(o).match(zr))?(this.h=!1,Lr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),qi(this,m[4]),this.l=pn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Br(m,Bs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Br(m,Bs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Br(g,g.charAt(0)=="/"?wc:ks,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Br(g,Ra)),o.join("")};function an(o){return new fe(o)}function Lr(o,m,g){o.j=g?pn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function hi(o,m,g){m instanceof fi?(o.i=m,gu(o.i,o.h)):(g||(m=Br(m,Dc)),o.i=new fi(m,o.h))}function Gt(o,m,g){o.i.set(m,g)}function Pr(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Br(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,mu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Bs=/[#\/\?@]/g,ks=/[#\?:]/g,wc=/[#\?]/g,Dc=/[#\?@]/g,Ra=/#/g;function fi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Rc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=fi.prototype,s.add=function(o,m){yn(this),this.i=null,o=kn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function di(o,m){yn(o),m=kn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function mi(o,m){return yn(o),m=kn(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=o[T];for(let q=0;q<z.length;q++)g.push(m[T])}return g},s.V=function(o){yn(this);let m=[];if(typeof o=="string")mi(this,o)&&(m=m.concat(this.g.get(kn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return yn(this),this.i=null,o=kn(this,o),mi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function qs(o,m,g){di(o,m),0<g.length&&(o.i=null,o.g.set(kn(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=q;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function kn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function gu(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(di(this,T),qs(this,z,g))},o)),o.j=m}function kr(o,m){const g=new gn;if(p.Image){const T=new Image;T.onload=G(_n,g,"TestLoadImage: loaded",!0,m,T),T.onerror=G(_n,g,"TestLoadImage: error",!1,m,T),T.onabort=G(_n,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(_n,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function In(o,m){const g=new gn,T=new AbortController,z=setTimeout(()=>{T.abort(),_n(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?_n(g,"TestPingServer: ok",!0,m):_n(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),_n(g,"TestPingServer: error",!1,m)})}function _n(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function qr(){this.g=new Nr}function qn(o,m,g){const T=g||"";try{Ps(o,function(z,q){let W=z;_(z)&&(W=Cn(z)),m.push(T+q+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function ji(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(ji,Vs),ji.prototype.g=function(){return new gi(this.l,this.j)},ji.prototype.i=function(o){return function(){return o}}({});function gi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(gi,re),s=gi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Hn(this),this.readyState==3&&js(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Hs(o){let m="";return zt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function De(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Hs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Gt(o,m,g))}function Bt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,re);var wa=/^https?$/i,jr=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Is(this.o):Is(Ln),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){pu(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),z=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(jr,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of g)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){pu(this,q)}};function pu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Da(o),Gn(o)}function Da(o){o.A||(o.A=!0,qt(o,"complete"),qt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,qt(this,"complete"),qt(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},s.bb=function(){Ca(this)};function Ca(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)je(o.Ea,0,o);else if(qt(o,"readystatechange"),vn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var z=String(o.D).match(zr)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!wa.test(z?z.toLowerCase():"")}g=T}if(g)qt(o,"complete"),qt(o,"success");else{o.m=6;try{var q=2<vn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Da(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){Hr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||qt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),_a(m)}};function yu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Cc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var g=M(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[z]||[];m[z]=q,q.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Va(o){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(o&&o.concurrentRequestLimit),this.Da=new qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Va.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){Wt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=bu(this,null,this.W),Oa(this)};function Gs(o){if(_u(o),o.G==3){var m=o.U++,g=an(o.I);if(Gt(g,"SID",o.K),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),Qr(o,g),m=new Xe(o,o.j,m),m.L=2,m.v=Pr(an(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xr(m)}Su(o)}function Ia(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function _u(o){Ia(o),o.u&&(p.clearTimeout(o.u),o.u=null),Na(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Oa(o){if(!Ta(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),lt||(tt(),lt=!0),Lt.add(m,o),o.B=0}}function Vc(o,m){return Aa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(I(o.Ga,o,m),Ys(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Xe(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=vu(this,z,m),g=an(this.I),Gt(g,"RID",o),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),Qr(this,g),q&&(this.O?m="headers="+encodeURIComponent(String(Hs(q)))+"&"+m:this.m&&De(g,this.m,q)),Sa(this.h,z),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",m),Gt(g,"SID","null"),z.T=!0,Vn(z,g,null)):Vn(z,g,m),this.G=2}}else this.G==3&&(o?Qs(this,o):this.i.length==0||Ta(this.h)||Qs(this))};function Qs(o,m){var g;m?g=m.l:g=o.U++;const T=an(o.I);Gt(T,"SID",o.K),Gt(T,"RID",g),Gt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&De(T,o.m,o.o),g=new Xe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=vu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Sa(o.h,g),Vn(g,T,m)}function Qr(o,m){o.H&&zt(o.H,function(g,T){Gt(m,T,g)}),o.l&&Ps({},function(g,T){Gt(m,T,g)})}function vu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?I(o.l.Na,o.l,o):null;t:{var z=o.i;let q=-1;for(;;){const W=["count="+g];q==-1?0<g?(q=z[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Vt=!0;for(let ve=0;ve<g;ve++){let It=z[ve].g;const Ce=z[ve].map;if(It-=q,0>It)q=Math.max(0,z[ve].g-100),Vt=!1;else try{qn(Ce,W,"req"+It+"_")}catch{T&&T(Ce)}}if(Vt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function Eu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),lt||(tt(),lt=!0),Lt.add(m,o),o.v=0}}function Fs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(I(o.Fa,o),Ys(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ia(this),Tu(this))};function Fr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function Tu(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=an(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Pr(an(m)),g.m=null,g.P=!0,oi(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Ia(this),Fs(this),Wt(19))};function Na(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function Au(o,m){var g=null;if(o.g==m){Na(o),Fr(o),o.g=null;var T=2}else if(zs(o.h,m))g=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=zi(),qt(T,new _e(T,g)),Oa(o)}else Eu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Vc(o,m)||T==2&&Fs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),z){case 1:pi(o,5);break;case 4:pi(o,10);break;case 3:pi(o,6);break;default:pi(o,2)}}}function Ys(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function pi(o,m){if(o.j.info("Error code "+m),m==2){var g=I(o.fb,o),T=o.Xa;const z=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Lr(T,"https"),Pr(T),z?kr(T.toString(),g):In(T.toString(),g)}else Wt(2);o.G=0,o.l&&o.l.sa(m),Su(o),_u(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Su(o){if(o.G=0,o.ka=[],o.l){const m=Ls(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function bu(o,m,g){var T=g instanceof fe?an(g):new fe(g);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new fe(null);T&&Lr(q,T),m&&(q.g=m),z&&qi(q,z),g&&(q.l=g),T=q}return g=o.D,m=o.ya,g&&m&&Gt(T,g,m),Gt(T,"VER",o.la),Qr(o,T),T}function Ru(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new ji({eb:g})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ma(){}Ma.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){re.call(this),this.g=new Va(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}Z(Ze,re),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Gs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Cn(o),o=g);m.i.push(new du(m.Ya++,o)),m.G==3&&Oa(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,Ze.aa.N.call(this)};function Du(o){li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Du,li);function Cu(){Ns.call(this),this.status=1}Z(Cu,Ns);function Qn(o){this.g=o}Z(Qn,wu),Qn.prototype.ua=function(){qt(this.g,"a")},Qn.prototype.ta=function(o){qt(this.g,new Du(o))},Qn.prototype.sa=function(o){qt(this.g,new Cu)},Qn.prototype.ra=function(){qt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,N_=function(){return new Ma},O_=function(){return zi()},I_=zn,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Uo=Bi,ui.COMPLETE="complete",V_=ui,Os.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",re.prototype.listen=re.prototype.K,Ll=Os,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,C_=Bt}).apply(typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{});const vy="@firebase/firestore",Ey="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new T_("@firebase/firestore");function us(){return fa.logLevel}function it(s,...e){if(fa.logLevel<=Mt.DEBUG){const i=e.map(od);fa.debug(`Firestore (${As}): ${s}`,...i)}}function Mi(s,...e){if(fa.logLevel<=Mt.ERROR){const i=e.map(od);fa.error(`Firestore (${As}): ${s}`,...i)}}function pr(s,...e){if(fa.logLevel<=Mt.WARN){const i=e.map(od);fa.warn(`Firestore (${As}): ${s}`,...i)}}function od(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,M_(s,a,i)}function M_(s,e,i){let a=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Mi(a),new Error(a)}function kt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||M_(e,u,a)}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class S1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class b1{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new x_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class R1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new R1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,a1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ty(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=C1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function jf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return St(a,u);{const h=U_(),d=V1(h.encode(Ay(s,i)),h.encode(Ay(e,i)));return d!==0?d:St(a,u)}}i+=a>65535?2:1}return St(s.length,e.length)}function Ay(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function V1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function gs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Jn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),u=Jn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class $t extends Jn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Jn{construct(e,i,a){return new ke(e,i,a)}static isValidIdentifier(e){return I1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new ke([Sy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot($t.fromString(e))}static fromName(e){return new ot($t.fromString(e).popFirst(5))}static empty(){return new ot($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function O1(s,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function by(s){if(!ot.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ry(s){if(ot.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function L_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function hd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function mr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hd(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(s,e){const i={typeString:s};return e&&(i.value=e),i}function tu(s,e){if(!L_(s))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-62135596800,Dy=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Dy);return new Jt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<wy)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:ye("string",Jt._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Jt(0,0))}static max(){return new yt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function N1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new Jt(i+1,0):new Jt(i,a));return new yr(u,ot.empty(),e)}function M1(s){return new yr(s.readTime,s.key,Xl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(yt.min(),ot.empty(),Xl)}static max(){return new yr(yt.max(),ot.empty(),Xl)}}function x1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==U1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,a)=>{i(e)})}static reject(e){return new Y((i,a)=>{a(e)})}static waitFor(e){return new Y((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next(u=>u?Y.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Y((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new Y((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function L1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ic.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function rc(s){return s==null}function Qo(s){return s===0&&1/s==-1/0}function P1(s){return typeof s=="number"&&Number.isInteger(s)&&!Qo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="";function B1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Cy(e)),e=k1(s.get(i),e);return Cy(e)}function k1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case P_:i+="";break;default:i+=h}}return i}function Cy(s){return s+P_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function B_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oo(this.root,e,this.comparator,!0)}}class Oo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Re(ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new k_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=q1.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="server_timestamp",j_="__type__",H_="__previous_value__",G_="__local_write_time__";function dd(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[j_])===null||i===void 0?void 0:i.stringValue)===q_}function ac(s){const e=s.mapValue.fields[H_];return dd(e)?ac(e):e}function Kl(s){const e=_r(s.mapValue.fields[G_].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i,a,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Fo="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||Fo}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Fo}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__type__",H1="__max__",No={mapValue:{}},F_="__vector__",Yo="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?dd(s)?4:Q1(s)?9007199254740991:G1(s)?10:11:dt(28295,{value:s})}function ii(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=_r(u.timestampValue),p=_r(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return vr(u.bytesValue).isEqual(vr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),p=ce(h.doubleValue);return d===p?Qo(d)===Qo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return gs(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Vy(d)!==Vy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ii(d[v],p[v])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function $l(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ps(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ce(h.integerValue||h.doubleValue),v=ce(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return Oy(s.timestampValue,e.timestampValue);case 4:return Oy(Kl(s),Kl(e));case 5:return jf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=vr(h),v=vr(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=St(p[_],v[_]);if(A!==0)return A}return St(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=St(ce(h.latitude),ce(d.latitude));return p!==0?p:St(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ny(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,v,_,A;const D=h.fields||{},I=d.fields||{},G=(p=D[Yo])===null||p===void 0?void 0:p.arrayValue,Z=(v=I[Yo])===null||v===void 0?void 0:v.arrayValue,nt=St(((_=G?.values)===null||_===void 0?void 0:_.length)||0,((A=Z?.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Ny(G,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===No.mapValue&&d===No.mapValue)return 0;if(h===No.mapValue)return 1;if(d===No.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const I=jf(v[D],A[D]);if(I!==0)return I;const G=ps(p[v[D]],_[A[D]]);if(G!==0)return G}return St(v.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{le:i})}}function Oy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=_r(s),a=_r(e),u=St(i.seconds,a.seconds);return u!==0?u:St(i.nanos,a.nanos)}function Ny(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ps(i[u],a[u]);if(h)return h}return St(i.length,a.length)}function ys(s){return Hf(s)}function Hf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return vr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Hf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Hf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function zo(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ac(s);return e?16+zo(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+zo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Sr(a.fields,(h,d)=>{u+=h.length+zo(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function Gf(s){return!!s&&"integerValue"in s}function md(s){return!!s&&"arrayValue"in s}function My(s){return!!s&&"nullValue"in s}function xy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lo(s){return!!s&&"mapValue"in s}function G1(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q_])===null||i===void 0?void 0:i.stringValue)===F_}function jl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=jl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Q1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===H1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Lo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=ke.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=jl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Lo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Lo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(jl(this.value))}}function Y_(s){const e=[];return Sr(s.fields,(i,a)=>{const u=new ke([i]);if(Lo(a)){const h=Y_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ye(e,0,yt.min(),yt.min(),yt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,yt.min(),yt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,yt.min(),yt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i){this.position=e,this.inclusive=i}}function Uy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ps(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function zy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function F1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{}class Se extends X_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new X1(e,i,a):i==="array-contains"?new $1(e,a):i==="in"?new J1(e,a):i==="not-in"?new W1(e,a):i==="array-contains-any"?new tA(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new K1(e,a):new Z1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ps(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends X_{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new ri(e,i)}matches(e){return K_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function K_(s){return s.op==="and"}function Z_(s){return Y1(s)&&K_(s)}function Y1(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function Qf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+ys(s.value);if(Z_(s))return s.filters.map(e=>Qf(e)).join(",");{const e=s.filters.map(i=>Qf(i)).join(",");return`${s.op}(${e})`}}function $_(s,e){return s instanceof Se?function(a,u){return u instanceof Se&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof ri?function(a,u){return u instanceof ri&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&$_(d,u.filters[p]),!0):!1}(s,e):void dt(19439)}function J_(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(s):s instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(J_).join(" ,")+"}"}(s):"Filter"}class X1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class K1 extends Se{constructor(e,i){super(e,"in",i),this.keys=W_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Z1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=W_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function W_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class $1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return md(i)&&$l(i.arrayValue,this.value)}}class J1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class W1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class tA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!md(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>$l(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Pe=null}}function Ly(s,e=null,i=[],a=[],u=null,h=null,d=null){return new eA(s,e,i,a,u,h,d)}function gd(s){const e=_t(s);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Qf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ys(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ys(a)).join(",")),e.Pe=i}return e.Pe}function pd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!F1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!$_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!zy(s.startAt,e.startAt)&&zy(s.endAt,e.endAt)}function Ff(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nA(s,e,i,a,u,h,d,p){return new sc(s,e,i,a,u,h,d,p)}function yd(s){return new sc(s)}function Py(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iA(s){return s.collectionGroup!==null}function Hl(s){const e=_t(s);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(ke.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new Ko(h,a))}),i.has(ke.keyField().canonicalString())||e.Te.push(new Ko(ke.keyField(),a))}return e.Te}function Wn(s){const e=_t(s);return e.Ie||(e.Ie=rA(e,Hl(s))),e.Ie}function rA(s,e){if(s.limitType==="F")return Ly(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ko(u.field,h)});const i=s.endAt?new Xo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xo(s.startAt.position,s.startAt.inclusive):null;return Ly(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Yf(s,e,i){return new sc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function lc(s,e){return pd(Wn(s),Wn(e))&&s.limitType===e.limitType}function tv(s){return`${gd(Wn(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>J_(u)).join(", ")}]`),rc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${a})`}(Wn(s))}; limitType=${s.limitType})`}function uc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Hl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,v){const _=Uy(d,p,v);return d.inclusive?_<=0:_<0}(a.startAt,Hl(a),u)||a.endAt&&!function(d,p,v){const _=Uy(d,p,v);return d.inclusive?_>=0:_>0}(a.endAt,Hl(a),u))}(s,e)}function aA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ev(s){return(e,i)=>{let a=!1;for(const u of Hl(s)){const h=sA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function sA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?ps(v,_):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new ne(ot.comparator);function xi(){return lA}const nv=new ne(ot.comparator);function Pl(...s){let e=nv;for(const i of s)e=e.insert(i.key,i);return e}function iv(s){let e=nv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function oa(){return Gl()}function rv(){return Gl()}function Gl(){return new ma(s=>s.toString(),(s,e)=>s.isEqual(e))}const uA=new ne(ot.comparator),oA=new Re(ot.comparator);function Ct(...s){let e=oA;for(const i of s)e=e.add(i);return e}const cA=new Re(St);function hA(){return cA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(e)?"-0":e}}function av(s){return{integerValue:""+s}}function fA(s,e){return P1(e)?av(e):_d(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function dA(s,e,i){return s instanceof Zo?function(u,h){const d={fields:{[j_]:{stringValue:q_},[G_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&dd(h)&&(h=ac(h)),h&&(d.fields[H_]=h),{mapValue:d}}(i,e):s instanceof Jl?lv(s,e):s instanceof Wl?uv(s,e):function(u,h){const d=sv(u,h),p=By(d)+By(u.Ee);return Gf(d)&&Gf(u.Ee)?av(p):_d(u.serializer,p)}(s,e)}function mA(s,e,i){return s instanceof Jl?lv(s,e):s instanceof Wl?uv(s,e):i}function sv(s,e){return s instanceof $o?function(a){return Gf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Zo extends oc{}class Jl extends oc{constructor(e){super(),this.elements=e}}function lv(s,e){const i=ov(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Wl extends oc{constructor(e){super(),this.elements=e}}function uv(s,e){let i=ov(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class $o extends oc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function By(s){return ce(s.integerValue||s.doubleValue)}function ov(s){return md(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Jl&&u instanceof Jl||a instanceof Wl&&u instanceof Wl?gs(a.elements,u.elements,ii):a instanceof $o&&u instanceof $o?ii(a.Ee,u.Ee):a instanceof Zo&&u instanceof Zo}(s.transform,e.transform)}class pA{constructor(e,i){this.version=e,this.transformResults=i}}class xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Po(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class cc{}function cv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new vd(s.key,xn.none()):new eu(s.key,s.data,xn.none());{const i=s.data,a=nn.empty();let u=new Re(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new br(s.key,a,new dn(u.toArray()),xn.none())}}function yA(s,e,i){s instanceof eu?function(u,h,d){const p=u.value.clone(),v=qy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof br?function(u,h,d){if(!Po(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=qy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(hv(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ql(s,e,i,a){return s instanceof eu?function(h,d,p,v){if(!Po(h.precondition,d))return p;const _=h.value.clone(),A=jy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof br?function(h,d,p,v){if(!Po(h.precondition,d))return p;const _=jy(h.fieldTransforms,v,d),A=d.data;return A.setAll(hv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,e,i,a):function(h,d,p){return Po(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function _A(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=sv(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function ky(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&gs(a,u,(h,d)=>gA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends cc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class br extends cc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function qy(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,mA(d,p,i[u]))}return a}function jy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,dA(h,d,e))}return a}class vd extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vA extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&yA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=rv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=cv(d,p);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,a)=>ky(i,a))&&gs(this.baseMutations,e.baseMutations,(i,a)=>ky(i,a))}}class Ed{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let u=function(){return uA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new Ed(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Nt;function SA(s){switch(s){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function fv(s){if(s===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:s})}}(Nt=ge||(ge={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new dr([4294967295,4294967295],0);function Hy(s){const e=U_().encode(s),i=new D_;return i.update(e),new Uint8Array(i.digest())}function Gy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new dr([i,a],0),new dr([u,h],0)]}class Td{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=dr.fromNumber(this.fe)}pe(e,i,a){let u=e.add(i.multiply(dr.fromNumber(a)));return u.compare(bA)===1&&(u=new dr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Hy(e),[a,u]=Gy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,u,h);if(!this.ye(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Td(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.fe===0)return;const i=Hy(e),[a,u]=Gy(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(a,u,h);this.we(d)}}we(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new hc(yt.min(),u,new ne(St),xi(),Ct())}}class nu{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new nu(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i,a,u){this.Se=e,this.removedTargetIds=i,this.key=a,this.be=u}}class dv{constructor(e,i){this.targetId=e,this.De=i}}class mv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Qy{constructor(){this.ve=0,this.Ce=Fy(),this.Fe=qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ct(),i=Ct(),a=Ct();return this.Ce.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}}),new nu(this.Fe,this.Me,e,i,a)}ke(){this.xe=!1,this.Ce=Fy()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class RA{constructor(e){this.We=e,this.Ge=new Map,this.ze=xi(),this.je=Mo(),this.Je=Mo(),this.He=new ne(St)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const a=this.tt(i);switch(e.state){case 0:this.nt(i)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((a,u)=>{this.nt(u)&&i(u)})}it(e){const i=e.targetId,a=e.De.count,u=this.st(i);if(u){const h=u.target;if(Ff(h))if(a===0){const d=new ot(h.path);this.Xe(i,d,Ye.newNoDocument(d,yt.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this.ot(i);if(d!==a){const p=this._t(e),v=p?this.ut(p,e,d):1;if(v!==0){this.rt(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=vr(a).toUint8Array()}catch(v){if(v instanceof k_)return pr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Td(d,u,h)}catch(v){return pr(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.fe===0?null:p}ut(e,i,a){return i.De.count===a-this.ht(e,i.targetId)?0:2}ht(e,i){const a=this.We.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.Xe(i,h,null),u++)}),u}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const p=this.st(d);if(p){if(h.current&&Ff(p.target)){const v=new ot(p.target.path);this.Tt(v).has(d)||this.It(d,v)||this.Xe(d,v,Ye.newNoDocument(v,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let a=Ct();this.Je.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this.st(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const u=new hc(e,i,this.He,this.ze,a);return this.ze=xi(),this.je=Mo(),this.Je=Mo(),this.He=new ne(St),u}Ze(e,i){if(!this.nt(e))return;const a=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,a){if(!this.nt(e))return;const u=this.tt(e);this.It(e,i)?u.qe(i,1):u.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new Qy,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Re(St),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Re(St),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Qy),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Mo(){return new ne(ot.comparator)}function Fy(){return new ne(ot.comparator)}const wA={asc:"ASCENDING",desc:"DESCENDING"},DA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CA={and:"AND",or:"OR"};class VA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Xf(s,e){return s.useProto3Json||rc(e)?e:{value:e}}function Jo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function IA(s,e){return Jo(s,e.toTimestamp())}function ti(s){return kt(!!s,49232),yt.fromTimestamp(function(i){const a=_r(i);return new Jt(a.seconds,a.nanos)}(s))}function Ad(s,e){return Kf(s,e).canonicalString()}function Kf(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function pv(s){const e=$t.fromString(s);return kt(Tv(e),10190,{key:e.toString()}),e}function Zf(s,e){return Ad(s.databaseId,e.path)}function Of(s,e){const i=pv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(_v(i))}function yv(s,e){return Ad(s.databaseId,e)}function OA(s){const e=pv(s);return e.length===4?$t.emptyPath():_v(e)}function $f(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _v(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yy(s,e,i){return{name:Zf(s,e),fields:i.value.mapValue.fields}}function NA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?K.UNKNOWN:fv(_.code);return new at(A,_.message||"")}(d);i=new mv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Of(s,a.document.name),h=ti(a.document.updateTime),d=a.document.createTime?ti(a.document.createTime):yt.min(),p=new nn({mapValue:{fields:a.document.fields}}),v=Ye.newFoundDocument(u,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Bo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Of(s,a.document),h=a.readTime?ti(a.readTime):yt.min(),d=Ye.newNoDocument(u,h),p=a.removedTargetIds||[];i=new Bo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Of(s,a.document),h=a.removedTargetIds||[];i=new Bo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new AA(u,h),p=a.targetId;i=new dv(p,d)}}return i}function MA(s,e){let i;if(e instanceof eu)i={update:Yy(s,e.key,e.value)};else if(e instanceof vd)i={delete:Zf(s,e.key)};else if(e instanceof br)i={update:Yy(s,e.key,e.data),updateMask:jA(e.fieldMask)};else{if(!(e instanceof vA))return dt(16599,{Rt:e.type});i={verify:Zf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Zo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $o)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw dt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:IA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function xA(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?ti(u.updateTime):ti(h);return d.isEqual(yt.min())&&(d=ti(h)),new pA(d,u.transformResults||[])}(i,e))):[]}function UA(s,e){return{documents:[yv(s,e.path)]}}function zA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=yv(s,u);const h=function(_){if(_.length!==0)return Ev(ri.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:cs(I.field),direction:BA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Xf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:i,parent:u}}function LA(s){let e=OA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(D){const I=vv(D);return I instanceof ri&&Z_(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(I=>function(Z){return new Ko(hs(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(I))}(i.orderBy));let p=null;i.limit&&(p=function(D){let I;return I=typeof D=="object"?D.value:D,rc(I)?null:I}(i.limit));let v=null;i.startAt&&(v=function(D){const I=!!D.before,G=D.values||[];return new Xo(G,I)}(i.startAt));let _=null;return i.endAt&&(_=function(D){const I=!D.before,G=D.values||[];return new Xo(G,I)}(i.endAt)),nA(e,u,d,h,p,"F",v,_)}function PA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Se.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(a=>vv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function BA(s){return wA[s]}function kA(s){return DA[s]}function qA(s){return CA[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return ke.fromServerFormat(s.fieldPath)}function Ev(s){return s instanceof Se?function(i){if(i.op==="=="){if(xy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(My(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(My(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:kA(i.op),value:i.value}}}(s):s instanceof ri?function(i){const a=i.getFilters().map(u=>Ev(u));return a.length===1?a[0]:{compositeFilter:{op:qA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function jA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Tv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,i,a,u,h=yt.min(),d=yt.min(),p=qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.gt=e}}function GA(s){const e=LA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.Dn=new FA}addToCollectionParentIndex(e,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(yr.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class FA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Re($t.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Re($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Av=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Av,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new _s(0)}static ur(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LruGarbageCollector",YA=1048576;function Zy([s,e],[i,a]){const u=St(s,i);return u===0?St(e,a):u}class XA{constructor(e){this.Tr=e,this.buffer=new Re(Zy),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Zy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){it(Ky,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?it(Ky,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.Rr(3e5)})}}class ZA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(ic.ue);const a=new XA(i);return this.Vr.forEachTarget(e,u=>a.Er(u.sequenceNumber)).next(()=>this.Vr.gr(e,u=>a.Er(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Xy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xy):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let a,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u))).next(D=>(a=D,p=Date.now(),this.removeTargets(e,a,i))).next(D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(D=>(_=Date.now(),us()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D})))}}function $A(s,e){return new ZA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Ql(a.mutation,u,dn.empty(),Jt.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=oa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Pl();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=xi();const d=Gl(),p=function(){return Gl()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof br)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ql(A.mutation,_,A.mutation.getFieldMask(),Jt.now())):d.set(_.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var D;return p.set(_,new WA(A,(D=d.get(_))!==null&&D!==void 0?D:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Gl();let u=new ne((d,p)=>d-p),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||dn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const D=(u.get(p.batchId)||Ct()).add(v);u=u.insert(p.batchId,D)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,D=rv();A.forEach(I=>{if(!h.has(I)){const G=cv(i.get(I),a.get(I));G!==null&&D.set(I,G),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return Y.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Y.resolve(oa());let p=Xl,v=h;return d.next(_=>Y.forEach(_,(A,D)=>(p<D.largestBatchId&&(p=D.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{v=v.insert(A,I)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Ct())).next(A=>({batchId:p,changes:iv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Pl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next(p=>Y.forEach(p,v=>{const _=function(D,I){return new sc(I,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((D,I)=>{d=d.insert(D,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let p=Pl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Ql(A.mutation,_,dn.empty(),Jt.now()),uc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ti(u.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(u){return{name:u.name,query:GA(u.bundledQuery),readTime:ti(u.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.overlays=new ne(ot.comparator),this.kr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return Y.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.wt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.kr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const u=oa(),h=i.length+1,d=new ot(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=oa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=oa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return Y.resolve(p)}wt(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.kr.get(u.largestBatchId).delete(a.key);this.kr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new TA(i,a));let h=this.kr.get(i);h===void 0&&(h=Ct(),this.kr.set(i,h)),this.kr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.qr=new Re(Ne.Qr),this.$r=new Re(Ne.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Wr(new Ne(e,i))}Gr(e,i){e.forEach(a=>this.removeReference(a,i))}zr(e){const i=new ot(new $t([])),a=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.$r.forEachInRange([a,u],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ot(new $t([])),a=new Ne(i,e),u=new Ne(i,e+1);let h=Ct();return this.$r.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ot.comparator(e.key,i.key)||St(e.Hr,i.Hr)}static Ur(e,i){return St(e.Hr,i.Hr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Re(Ne.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Yr=this.Yr.add(new Ne(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Xr(a),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?fd:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,u],d=>{const p=this.Zr(d.Hr);h.push(p)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Re(St);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],p=>{a=a.add(p.Hr)})}),Y.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ot(h),0);let p=new Re(St);return this.Yr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Hr)),!0)},d),Y.resolve(this.ei(p))}ei(e){const i=[];return e.forEach(a=>{const u=this.Zr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Y.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,i){const a=new Ne(i,0),u=this.Yr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.ni=e,this.docs=function(){return new ne(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=xi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=xi();const d=i.path,p=new ot(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||x1(M1(A),a)<=0||(u.has(A.key)||uc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}ri(e,i){return Y.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new sS(this)}getSize(e){return Y.resolve(this.size)}}class sS extends JA{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Or.addEntry(e,u)):this.Or.removeEntry(a)}),Y.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.persistence=e,this.ii=new ma(i=>gd(i),pd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.si=0,this.oi=new Sd,this.targetCount=0,this._i=_s.ar()}forEachTarget(e,i){return this.ii.forEach((a,u)=>i(u)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),Y.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.hr(i),Y.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.ii.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),Y.waitFor(h).next(()=>u)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.ii.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this.oi.Kr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this.oi.Gr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this.oi.Jr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i){this.ai={},this.overlays={},this.ui=new ic(0),this.ci=!1,this.ci=!0,this.li=new iS,this.referenceDelegate=e(this),this.hi=new lS(this),this.indexManager=new QA,this.remoteDocumentCache=function(u){return new aS(u)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new HA(i),this.Ti=new eS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ai[e.toKey()];return a||(a=new rS(i,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new uS(this.ui.next());return this.referenceDelegate.Ii(),a(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ei(e,i){return Y.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,i)))}}class uS extends z1{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Ai=new Sd,this.Ri=null}static Vi(e){return new bd(e)}get mi(){if(this.Ri)return this.Ri;throw dt(60996)}addReference(e,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(u=>this.mi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,a=>{const u=ot.fromPath(a);return this.fi(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Wo{constructor(e,i){this.persistence=e,this.gi=new ma(a=>B1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=$A(this,i)}static Vi(e,i){return new Wo(e,i)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}yr(e){let i=0;return this.gr(e,a=>{i++}).next(()=>i)}gr(e,i){return Y.forEach(this.gi,(a,u)=>this.Sr(e,a,u).next(h=>h?Y.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ri(e,d=>this.Sr(e,d,i).next(p=>{p||(a++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zo(e.data.value)),i}Sr(e,i,a){return Y.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.gi.get(i);return Y.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Is=a,this.ds=u}static Es(e,i){let a=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Rd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return nT()?8:L1(tT())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new oS;return this.ws(e,i,d).next(p=>{if(h.result=p,this.Rs)return this.Ss(e,i,d,p.size)})}).next(()=>h.result)}Ss(e,i,a,u){return a.documentReadCount<this.Vs?(us()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(us()<=Mt.DEBUG&&it("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.fs*u?(us()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):Y.resolve())}ps(e,i){if(Py(i))return Y.resolve(null);let a=Wn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Yf(i,null,"F"),a=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ct(...h);return this.gs.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.bs(i,p);return this.Ds(i,_,d,v.readTime)?this.ps(e,Yf(i,null,"F")):this.vs(e,_,i,v)}))})))}ys(e,i,a,u){return Py(i)||u.isEqual(yt.min())?Y.resolve(null):this.gs.getDocuments(e,a).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,a,u)?Y.resolve(null):(us()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.vs(e,d,i,N1(u,Xl)).next(p=>p))})}bs(e,i){let a=new Re(ev(e));return i.forEach((u,h)=>{uc(e,h)&&(a=a.add(h))}),a}Ds(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ws(e,i,a){return us()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",os(i)),this.gs.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,u){return this.gs.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="LocalStore",hS=3e8;class fS{constructor(e,i,a,u){this.persistence=e,this.Cs=i,this.serializer=u,this.Fs=new ne(St),this.Ms=new ma(h=>gd(h),pd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tS(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function dS(s,e,i,a){return new fS(s,e,i,a)}async function bv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let v=Ct();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:p}))})})}function mS(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const D=_.batch,I=D.keys();let G=Y.resolve();return I.forEach(Z=>{G=G.next(()=>A.getEntry(v,Z)).next(nt=>{const $=_.docVersions.get(Z);kt($!==null,48541),nt.version.compareTo($)<0&&(D.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(v,D))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let v=Ct();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Rv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function gS(s,e){const i=_t(s),a=e.snapshotVersion;let u=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});u=i.Fs;const p=[];e.targetChanges.forEach((A,D)=>{const I=u.get(D);if(!I)return;p.push(i.hi.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,D)));let G=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?G=G.withResumeToken(qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),u=u.insert(D,G),function(nt,$,Et){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=hS?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(I,G,A)&&p.push(i.hi.updateTargetData(h,G))});let v=xi(),_=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(pS(h,d,e.documentUpdates).next(A=>{v=A.Ls,_=A.ks})),!a.isEqual(yt.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(D=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return Y.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Fs=u,h))}function pS(s,e,i){let a=Ct(),u=Ct();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=xi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(wd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{Ls:d,ks:u}})}function yS(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=fd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function _S(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.hi.getTargetData(a,e).next(h=>h?(u=h,Y.resolve(u)):i.hi.allocateTargetId(a).next(d=>(u=new cr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Fs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(e,a.targetId)),a})}async function Jf(s,e,i){const a=_t(s),u=a.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;it(wd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(u.target)}function $y(s,e,i){const a=_t(s);let u=yt.min(),h=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const D=_t(v),I=D.Ms.get(A);return I!==void 0?Y.resolve(D.Fs.get(I)):D.hi.getTargetData(_,A)}(a,d,Wn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>a.Cs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Ct())).next(p=>(vS(a,aA(e),p),{documents:p,qs:h})))}function vS(s,e,i){let a=s.xs.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.xs.set(e,a)}class Jy{constructor(){this.activeTargetIds=hA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ES{constructor(){this.Fo=new Jy,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,a){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Jy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="ConnectivityMonitor";class t_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){it(Wy,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){it(Wy,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo=null;function Wf(){return xo===null?xo=function(){return 268435456+Math.round(2147483648*Math.random())}():xo++,"0x"+xo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",AS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${a}/databases/${u}`,this.Ko=this.databaseId.database===Fo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Wo(e,i,a,u,h){const d=Wf(),p=this.Go(e,i.toUriEncodedString());it(Nf,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,u,h);const{host:_}=new URL(p),A=ld(_);return this.jo(e,p,v,a,A).then(D=>(it(Nf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw pr(Nf,`RPC '${e}' ${d} failed with error: `,D,"url: ",p,"request:",a),D})}Jo(e,i,a,u,h,d){return this.Wo(e,i,a,u,h)}zo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}Go(e,i){const a=AS[e];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class RS extends SS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,a,u,h){const d=Wf();return new Promise((p,v)=>{const _=new C_;_.setWithCredentials(!0),_.listenOnce(V_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Uo.NO_ERROR:const D=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),p(D);break;case Uo.TIMEOUT:it(Qe,`RPC '${e}' ${d} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:const I=_.getStatus();if(it(Qe,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const nt=function(Et){const gt=Et.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}(Z.status);v(new at(nt,Z.message))}else v(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(Qe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)})}P_(e,i,a){const u=Wf(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=N_(),p=O_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const D=d.createWebChannel(A,v);this.T_(D);let I=!1,G=!1;const Z=new bS({Ho:$=>{G?it(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(I||(it(Qe,`Opening RPC '${e}' stream ${u} transport.`),D.open(),I=!0),it(Qe,`RPC '${e}' stream ${u} sending:`,$),D.send($))},Yo:()=>D.close()}),nt=($,Et,gt)=>{$.listen(Et,ft=>{try{gt(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return nt(D,Ll.EventType.OPEN,()=>{G||(it(Qe,`RPC '${e}' stream ${u} transport opened.`),Z.s_())}),nt(D,Ll.EventType.CLOSE,()=>{G||(G=!0,it(Qe,`RPC '${e}' stream ${u} transport closed`),Z.__(),this.I_(D))}),nt(D,Ll.EventType.ERROR,$=>{G||(G=!0,pr(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.__(new at(K.UNAVAILABLE,"The operation could not be completed")))}),nt(D,Ll.EventType.MESSAGE,$=>{var Et;if(!G){const gt=$.data[0];kt(!!gt,16349);const ft=gt,xt=ft?.error||((Et=ft[0])===null||Et===void 0?void 0:Et.error);if(xt){it(Qe,`RPC '${e}' stream ${u} received error:`,xt);const vt=xt.status;let zt=function(w){const O=ge[w];if(O!==void 0)return fv(O)}(vt),N=xt.message;zt===void 0&&(zt=K.INTERNAL,N="Unknown error status: "+vt+" with message "+xt.message),G=!0,Z.__(new at(zt,N)),D.close()}else it(Qe,`RPC '${e}' stream ${u} received:`,gt),Z.a_(gt)}}),nt(p,I_.STAT_EVENT,$=>{$.stat===qf.PROXY?it(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===qf.NOPROXY&&it(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.o_()},0),Z}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(s){return new VA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=u,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,u,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="PersistentStream";class Dv{constructor(e,i,a,u,h,d,p,v){this.Fi=e,this.w_=a,this.S_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.b_===i&&this.W_(a,u)},a=>{e(()=>{const u=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(u)})})}W_(e,i){const a=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(u=>{a(()=>this.G_(u))}),this.stream.onMessage(u=>{a(()=>++this.C_==1?this.j_(u):this.onNext(u))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return it(e_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(it(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wS extends Dv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=NA(this.serializer,e),a=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ti(d.readTime):yt.min()}(e);return this.listener.J_(i,a)}H_(e){const i={};i.database=$f(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Ff(v)?{documents:UA(h,v)}:{query:zA(h,v).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=gv(h,d.resumeToken);const _=Xf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Jo(h,d.snapshotVersion.toTimestamp());const _=Xf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const a=PA(this.serializer,e);a&&(i.labels=a),this.k_(i)}Y_(e){const i={};i.database=$f(this.serializer),i.removeTarget=e,this.k_(i)}}class DS extends Dv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=xA(e.writeResults,e.commitTime),a=ti(e.commitTime);return this.listener.ta(a,i)}na(){const e={};e.database=$f(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>MA(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class VS extends CS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ra=!1}ia(){if(this.ra)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,Kf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Jo(e,i,a,u,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Jo(e,Kf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class IS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mi(i),this._a=!1):it("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class OS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{a.enqueueAndForget(async()=>{ga(this)&&(it(da,"Restarting streams for network reachability change."),await async function(v){const _=_t(v);_.Ia.add(4),await iu(_),_.Aa.set("Unknown"),_.Ia.delete(4),await dc(_)}(this))})}),this.Aa=new IS(a,u)}}async function dc(s){if(ga(s))for(const e of s.da)await e(!0)}async function iu(s){for(const e of s.da)await e(!1)}function Cv(s,e){const i=_t(s);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Id(i)?Vd(i):Rs(i).x_()&&Cd(i,e))}function Dd(s,e){const i=_t(s),a=Rs(i);i.Ta.delete(e),a.x_()&&Vv(i,e),i.Ta.size===0&&(a.x_()?a.B_():ga(i)&&i.Aa.set("Unknown"))}function Cd(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).H_(e)}function Vv(s,e){s.Ra.$e(e),Rs(s).Y_(e)}function Vd(s){s.Ra=new RA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.Aa.aa()}function Id(s){return ga(s)&&!Rs(s).M_()&&s.Ta.size>0}function ga(s){return _t(s).Ia.size===0}function Iv(s){s.Ra=void 0}async function NS(s){s.Aa.set("Online")}async function MS(s){s.Ta.forEach((e,i)=>{Cd(s,e)})}async function xS(s,e){Iv(s),Id(s)?(s.Aa.la(e),Vd(s)):s.Aa.set("Unknown")}async function US(s,e,i){if(s.Aa.set("Online"),e instanceof mv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Ta.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Ta.delete(p),u.Ra.removeTarget(p))}(s,e)}catch(a){it(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await tc(s,a)}else if(e instanceof Bo?s.Ra.Ye(e):e instanceof dv?s.Ra.it(e):s.Ra.et(e),!i.isEqual(yt.min()))try{const a=await Rv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Ra.Pt(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ta.get(_);A&&h.Ta.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Ta.get(v);if(!A)return;h.Ta.set(v,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Vv(h,v);const D=new cr(A.target,v,_,A.sequenceNumber);Cd(h,D)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){it(da,"Failed to raise snapshot:",a),await tc(s,a)}}async function tc(s,e,i){if(!bs(e))throw e;s.Ia.add(1),await iu(s),s.Aa.set("Offline"),i||(i=()=>Rv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(da,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await dc(s)})}function Ov(s,e){return e().catch(i=>tc(s,i,e))}async function mc(s){const e=_t(s),i=Tr(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:fd;for(;zS(e);)try{const u=await yS(e.localStore,a);if(u===null){e.Pa.length===0&&i.B_();break}a=u.batchId,LS(e,u)}catch(u){await tc(e,u)}Nv(e)&&Mv(e)}function zS(s){return ga(s)&&s.Pa.length<10}function LS(s,e){s.Pa.push(e);const i=Tr(s);i.x_()&&i.Z_&&i.X_(e.mutations)}function Nv(s){return ga(s)&&!Tr(s).M_()&&s.Pa.length>0}function Mv(s){Tr(s).start()}async function PS(s){Tr(s).na()}async function BS(s){const e=Tr(s);for(const i of s.Pa)e.X_(i.mutations)}async function kS(s,e,i){const a=s.Pa.shift(),u=Ed.from(a,e,i);await Ov(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await mc(s)}async function qS(s,e){e&&Tr(s).Z_&&await async function(a,u){if(function(d){return SA(d)&&d!==K.ABORTED}(u.code)){const h=a.Pa.shift();Tr(a).N_(),await Ov(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await mc(a)}}(s,e),Nv(s)&&Mv(s)}async function n_(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(da,"RemoteStore received new credentials");const a=ga(i);i.Ia.add(3),await iu(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await dc(i)}async function jS(s,e){const i=_t(s);e?(i.Ia.delete(2),await dc(i)):e||(i.Ia.add(2),await iu(i),i.Aa.set("Unknown"))}function Rs(s){return s.Va||(s.Va=function(i,a,u){const h=_t(i);return h.ia(),new wS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Zo:NS.bind(null,s),e_:MS.bind(null,s),n_:xS.bind(null,s),J_:US.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),Id(s)?Vd(s):s.Aa.set("Unknown")):(await s.Va.stop(),Iv(s))})),s.Va}function Tr(s){return s.ma||(s.ma=function(i,a,u){const h=_t(i);return h.ia(),new DS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:PS.bind(null,s),n_:qS.bind(null,s),ea:BS.bind(null,s),ta:kS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await mc(s)):(await s.ma.stop(),s.Pa.length>0&&(it(da,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new Od(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),bs(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.fa=new ne(ot.comparator)}track(e){const i=e.doc.key,a=this.fa.get(i);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(i,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(i):e.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):dt(63341,{At:e,ga:a}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,a)=>{e.push(a)}),e}}class vs{constructor(e,i,a,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new vs(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class GS{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const u=_t(i),h=u.queries;u.queries=r_(),h.forEach((d,p)=>{for(const v of p.wa)v.onError(a)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function r_(){return new ma(s=>tv(s),lc)}async function QS(s,e){const i=_t(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Sa()&&e.ba()&&(a=2):(h=new HS,a=e.ba()?0:1);try{switch(a){case 0:h.ya=await i.onListen(u,!0);break;case 1:h.ya=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=Nd(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Md(i)}async function FS(s,e){const i=_t(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?u=e.ba()?0:1:!h.Sa()&&e.ba()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YS(s,e){const i=_t(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.wa)p.Ca(u)&&(a=!0);d.ya=u}}a&&Md(i)}function XS(s,e,i){const a=_t(s),u=a.queries.get(e);if(u)for(const h of u.wa)h.onError(i);a.queries.delete(e)}function Md(s){s.Da.forEach(e=>{e.next()})}var td,a_;(a_=td||(td={})).Fa="default",a_.Cache="cache";class KS{constructor(e,i,a){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new vs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.key=e}}class Uv{constructor(e){this.key=e}}class ZS{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ct(),this.mutatedKeys=Ct(),this.Xa=ev(e),this.eu=new ds(this.Xa)}get tu(){return this.Ha}nu(e,i){const a=i?i.ru:new i_,u=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,D)=>{const I=u.get(A),G=uc(this.query,D)?D:null,Z=!!I&&this.mutatedKeys.has(I.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;I&&G?I.data.isEqual(G.data)?Z!==nt&&(a.track({type:3,doc:G}),$=!0):this.iu(I,G)||(a.track({type:2,doc:G}),$=!0,(v&&this.Xa(G,v)>0||_&&this.Xa(G,_)<0)&&(p=!0)):!I&&G?(a.track({type:0,doc:G}),$=!0):I&&!G&&(a.track({type:1,doc:I}),$=!0,(v||_)&&(p=!0)),$&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{eu:d,ru:a,Ds:p,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,D)=>function(G,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{At:$})}};return nt(G)-nt(Z)}(A.type,D.type)||this.Xa(A.doc,D.doc)),this.su(a),u=u!=null&&u;const p=i&&!u?this.ou():[],v=this.Za.size===0&&this.current&&!u?1:0,_=v!==this.Ya;return this.Ya=v,d.length!==0||_?{snapshot:new vs(this.query,e.eu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new i_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ct(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return e.forEach(a=>{this.Za.has(a)||i.push(new Uv(a))}),this.Za.forEach(a=>{e.has(a)||i.push(new xv(a))}),i}uu(e){this.Ha=e.qs,this.Za=Ct();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return vs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const xd="SyncEngine";class $S{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class JS{constructor(e){this.key=e,this.lu=!1}}class WS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new ma(p=>tv(p),lc),this.Tu=new Map,this.Iu=new Set,this.du=new ne(ot.comparator),this.Eu=new Map,this.Au=new Sd,this.Ru={},this.Vu=new Map,this.mu=_s.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function tb(s,e,i=!0){const a=qv(s);let u;const h=a.Pu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.cu()):u=await zv(a,e,i,!0),u}async function eb(s,e){const i=qv(s);await zv(i,e,!0,!1)}async function zv(s,e,i,a){const u=await _S(s.localStore,Wn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await nb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Cv(s.remoteStore,u),p}async function nb(s,e,i,a,u){s.gu=(D,I,G)=>async function(nt,$,Et,gt){let ft=$.view.nu(Et);ft.Ds&&(ft=await $y(nt.localStore,$.query,!1).then(({documents:N})=>$.view.nu(N,ft)));const xt=gt&&gt.targetChanges.get($.targetId),vt=gt&&gt.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(ft,nt.isPrimaryClient,xt,vt);return l_(nt,$.targetId,zt._u),zt.snapshot}(s,D,I,G);const h=await $y(s.localStore,e,!0),d=new ZS(e,h.qs),p=d.nu(h.documents),v=nu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(p,s.isPrimaryClient,v);l_(s,i,_._u);const A=new $S(e,i,d);return s.Pu.set(e,A),s.Tu.has(i)?s.Tu.get(i).push(e):s.Tu.set(i,[e]),_.snapshot}async function ib(s,e,i){const a=_t(s),u=a.Pu.get(e),h=a.Tu.get(u.targetId);if(h.length>1)return a.Tu.set(u.targetId,h.filter(d=>!lc(d,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Jf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Dd(a.remoteStore,u.targetId),ed(a,u.targetId)}).catch(Ss)):(ed(a,u.targetId),await Jf(a.localStore,u.targetId,!0))}async function rb(s,e){const i=_t(s),a=i.Pu.get(e),u=i.Tu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Dd(i.remoteStore,a.targetId))}async function ab(s,e,i){const a=fb(s);try{const u=await function(d,p){const v=_t(d),_=Jt.now(),A=p.reduce((G,Z)=>G.add(Z.key),Ct());let D,I;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=xi(),nt=Ct();return v.Os.getEntries(G,A).next($=>{Z=$,Z.forEach((Et,gt)=>{gt.isValidDocument()||(nt=nt.add(Et))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,Z)).next($=>{D=$;const Et=[];for(const gt of p){const ft=_A(gt,D.get(gt.key).overlayedDocument);ft!=null&&Et.push(new br(gt.key,ft,Y_(ft.value.mapValue),xn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,Et,p)}).next($=>{I=$;const Et=$.applyToLocalDocumentSet(D,nt);return v.documentOverlayCache.saveOverlays(G,$.batchId,Et)})}).then(()=>({batchId:I.batchId,changes:iv(D)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Ru[d.currentUser.toKey()];_||(_=new ne(St)),_=_.insert(p,v),d.Ru[d.currentUser.toKey()]=_}(a,u.batchId,i),await ru(a,u.changes),await mc(a.remoteStore)}catch(u){const h=Nd(u,"Failed to persist write");i.reject(h)}}async function Lv(s,e){const i=_t(s);try{const a=await gS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.lu=!0:u.modifiedDocuments.size>0?kt(d.lu,14607):u.removedDocuments.size>0&&(kt(d.lu,42227),d.lu=!1))}),await ru(i,a,e)}catch(a){await Ss(a)}}function s_(s,e,i){const a=_t(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Pu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=_t(d);v.onlineState=p;let _=!1;v.queries.forEach((A,D)=>{for(const I of D.wa)I.va(p)&&(_=!0)}),_&&Md(v)}(a.eventManager,e),u.length&&a.hu.J_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function sb(s,e,i){const a=_t(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ne(ot.comparator);d=d.insert(h,Ye.newNoDocument(h,yt.min()));const p=Ct().add(h),v=new hc(yt.min(),new Map,new ne(St),d,p);await Lv(a,v),a.du=a.du.remove(h),a.Eu.delete(e),Ud(a)}else await Jf(a.localStore,e,!1).then(()=>ed(a,e,i)).catch(Ss)}async function lb(s,e){const i=_t(s),a=e.batch.batchId;try{const u=await mS(i.localStore,e);Bv(i,a,null),Pv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,u)}catch(u){await Ss(u)}}async function ub(s,e,i){const a=_t(s);try{const u=await function(d,p){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(D=>(kt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);Bv(a,e,i),Pv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ru(a,u)}catch(u){await Ss(u)}}function Pv(s,e){(s.Vu.get(e)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(e)}function Bv(s,e,i){const a=_t(s);let u=a.Ru[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Ru[a.currentUser.toKey()]=u}}function ed(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Tu.get(e))s.Pu.delete(a),i&&s.hu.pu(a,i);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(a=>{s.Au.containsKey(a)||kv(s,a)})}function kv(s,e){s.Iu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Dd(s.remoteStore,i),s.du=s.du.remove(e),s.Eu.delete(i),Ud(s))}function l_(s,e,i){for(const a of i)a instanceof xv?(s.Au.addReference(a.key,e),ob(s,a)):a instanceof Uv?(it(xd,"Document no longer in limbo: "+a.key),s.Au.removeReference(a.key,e),s.Au.containsKey(a.key)||kv(s,a.key)):dt(19791,{yu:a})}function ob(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Iu.has(a)||(it(xd,"New document in limbo: "+i),s.Iu.add(a),Ud(s))}function Ud(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const i=new ot($t.fromString(e)),a=s.mu.next();s.Eu.set(a,new JS(i)),s.du=s.du.insert(i,a),Cv(s.remoteStore,new cr(Wn(yd(i.path)),a,"TargetPurposeLimboResolution",ic.ue))}}async function ru(s,e,i){const a=_t(s),u=[],h=[],d=[];a.Pu.isEmpty()||(a.Pu.forEach((p,v)=>{d.push(a.gu(v,e,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const D=_?!_.fromCache:(A=i?.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,D?"current":"not-current")}if(_){u.push(_);const D=Rd.Es(v.targetId,_);h.push(D)}}))}),await Promise.all(d),a.hu.J_(u),await async function(v,_){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>Y.forEach(_,I=>Y.forEach(I.Is,G=>A.persistence.referenceDelegate.addReference(D,I.targetId,G)).next(()=>Y.forEach(I.ds,G=>A.persistence.referenceDelegate.removeReference(D,I.targetId,G)))))}catch(D){if(!bs(D))throw D;it(wd,"Failed to update sequence numbers: "+D)}for(const D of _){const I=D.targetId;if(!D.fromCache){const G=A.Fs.get(I),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);A.Fs=A.Fs.insert(I,nt)}}}(a.localStore,h))}async function cb(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(xd,"User change. New user:",e.toKey());const a=await bv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(p=>{p.forEach(v=>{v.reject(new at(K.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Bs)}}function hb(s,e){const i=_t(s),a=i.Eu.get(e);if(a&&a.lu)return Ct().add(a.key);{let u=Ct();const h=i.Tu.get(e);if(!h)return u;for(const d of h){const p=i.Pu.get(d);u=u.unionWith(p.view.tu)}return u}}function qv(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sb.bind(null,e),e.hu.J_=YS.bind(null,e.eventManager),e.hu.pu=XS.bind(null,e.eventManager),e}function fb(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ub.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return dS(this.persistence,new cS,e.initialUser,this.serializer)}Du(e){return new Sv(bd.Vi,this.serializer)}bu(e){return new ES}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class db extends ec{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){kt(this.persistence.referenceDelegate instanceof Wo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new KA(a,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Sv(a=>Wo.Vi(a,i),this.serializer)}}class nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>s_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cb.bind(null,this.syncEngine),await jS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GS}()}createDatastore(e){const i=fc(e.databaseInfo.databaseId),a=function(h){return new RS(h)}(e.databaseInfo);return function(h,d,p,v){return new VS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new OS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>s_(this.syncEngine,i,0),function(){return t_.C()?new t_:new TS}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const D=new WS(u,h,d,p,v,_);return A&&(D.fu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);it(da,"RemoteStore shutting down."),h.Ia.add(5),await iu(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class gb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Nd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function xf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await bv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>{pr("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{it("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(u=>{pr("Terminating Firestore due to IndexedDb database deletion failed",u)})}),s._offlineComponents=e}async function u_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await pb(s);it(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>n_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>n_(e.remoteStore,u)),s._onlineComponents=e}async function pb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Ar,"Using user provided OfflineComponentProvider");try{await xf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;pr("Error using user provided cache. Falling back to memory cache: "+i),await xf(s,new ec)}}else it(Ar,"Using default OfflineComponentProvider"),await xf(s,new db(void 0));return s._offlineComponents}async function jv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Ar,"Using user provided OnlineComponentProvider"),await u_(s,s._uninitializedComponentsProvider._online)):(it(Ar,"Using default OnlineComponentProvider"),await u_(s,new nd))),s._onlineComponents}function yb(s){return jv(s).then(e=>e.syncEngine)}async function o_(s){const e=await jv(s),i=e.eventManager;return i.onListen=tb.bind(null,e.syncEngine),i.onUnlisten=ib.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=eb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=rb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="firestore.googleapis.com",h_=!0;class f_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gv,this.ssl=h_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Av;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YA)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new A1;switch(a.type){case"firstParty":return new w1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=c_.get(i);a&&(it("ComponentProvider","Removing Datastore"),c_.delete(i),a.terminate())}(this),Promise.resolve()}}function _b(s,e,i,a={}){var u;s=mr(s,gc);const h=ld(e),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(KE(`https://${v}`),WE("Firestore",!0)),d.host!==Gv&&d.host!==v&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:a});if(!jo(_,p)&&(s._setSettings(_),a.mockUserToken)){let A,D;if(typeof a.mockUserToken=="string")A=a.mockUserToken,D=Fe.MOCK_USER;else{A=ZE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Fe(I)}s._authCredentials=new S1(new x_(A,D))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(tu(i,be._jsonSchema))return new be(e,a||null,new ot($t.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:ye("string",be._jsonSchemaVersion),referencePath:ye("string")};class gr extends pc{constructor(e,i,a){super(e,i,yd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ot(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function vb(s,e,...i){if(s=Oi(s),z_("collection","path",e),s instanceof gc){const a=$t.fromString(e,...i);return Ry(a),new gr(s,null,a)}{if(!(s instanceof be||s instanceof gr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return Ry(a),new gr(s.firestore,null,a)}}function id(s,e,...i){if(s=Oi(s),arguments.length===1&&(e=cd.newId()),z_("doc","path",e),s instanceof gc){const a=$t.fromString(e,...i);return by(a),new be(s,null,new ot(a))}{if(!(s instanceof be||s instanceof gr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return by(a),new be(s.firestore,s instanceof gr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wv(this,"async_queue_retry"),this.oc=()=>{const a=Mf();a&&it(d_,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const i=Mf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Mf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new ca;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!bs(e))throw e;it(d_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Mi("INTERNAL UNHANDLED ERROR: ",g_(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const u=Od.createAndSchedule(this,e,i,a,h=>this.lc(h));return this.ec.push(u),u}ac(){this.tc&&dt(47125,{hc:g_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function g_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Es extends gc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new m_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function Eb(s,e){const i=typeof s=="object"?s:o1(),a=typeof s=="string"?s:Fo,u=r1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=YE("firestore");h&&_b(u,...h)}return u}function Qv(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Tb(s),s._firestoreClient}function Tb(s){var e,i,a;const u=s._freezeSettings(),h=function(p,v,_,A){return new j1(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Hv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new gb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const v=p?._online.build();return{_offline:p?._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ye("string",Dn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(tu(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:ye("string",ei._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ni(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:ye("string",ni._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=/^__.*__$/;class Sb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class Fv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Yv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ec:s})}}class Ld{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Rc({path:a,mc:!1});return u.fc(e),u}gc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Rc({path:a,mc:!1});return u.Ac(),u}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Yv(this.Ec)&&Ab.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class bb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||fc(e)}Dc(e,i,a,u=!1){return new Ld({Ec:e,methodName:i,bc:a,path:ke.emptyPath(),mc:!1,Sc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xv(s){const e=s._freezeSettings(),i=fc(s._databaseId);return new bb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Rb(s,e,i,a,u,h={}){const d=s.Dc(h.merge||h.mergeFields?2:0,e,i,u);Pd("Data must be an object, but it was:",d,a);const p=Kv(a,d);let v,_;if(h.merge)v=new dn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const I=rd(e,D,i);if(!d.contains(I))throw new at(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);$v(A,I)||A.push(I)}v=new dn(A),_=d.fieldTransforms.filter(D=>v.covers(D.field))}else v=null,_=d.fieldTransforms;return new Sb(new nn(p),v,_)}class _c extends zd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _c}}function wb(s,e,i,a){const u=s.Dc(1,e,i);Pd("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Sr(a,(v,_)=>{const A=Bd(e,v,i);_=Oi(_);const D=u.gc(A);if(_ instanceof _c)h.push(A);else{const I=vc(_,D);I!=null&&(h.push(A),d.set(A,I))}});const p=new dn(h);return new Fv(d,p,u.fieldTransforms)}function Db(s,e,i,a,u,h){const d=s.Dc(1,e,i),p=[rd(e,a,i)],v=[u];if(h.length%2!=0)throw new at(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)p.push(rd(e,h[I])),v.push(h[I+1]);const _=[],A=nn.empty();for(let I=p.length-1;I>=0;--I)if(!$v(_,p[I])){const G=p[I];let Z=v[I];Z=Oi(Z);const nt=d.gc(G);if(Z instanceof _c)_.push(G);else{const $=vc(Z,nt);$!=null&&(_.push(G),A.set(G,$))}}const D=new dn(_);return new Fv(A,D,d.fieldTransforms)}function vc(s,e){if(Zv(s=Oi(s)))return Pd("Unsupported field value:",e,s),Kv(s,e);if(s instanceof zd)return function(a,u){if(!Yv(u.Ec))throw u.wc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.wc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let v=vc(p,u.yc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Oi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Jt.fromDate(a);return{timestampValue:Jo(u.serializer,h)}}if(a instanceof Jt){const h=new Jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jo(u.serializer,h)}}if(a instanceof ei)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:gv(u.serializer,a._byteString)};if(a instanceof be){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ad(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof ni)return function(d,p){return{mapValue:{fields:{[Q_]:{stringValue:F_},[Yo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.wc("VectorValues must only contain numeric values.");return _d(p.serializer,_)})}}}}}}(a,u);throw u.wc(`Unsupported field value: ${hd(a)}`)}(s,e)}function Kv(s,e){const i={};return B_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,(a,u)=>{const h=vc(u,e.Vc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Zv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Jt||s instanceof ei||s instanceof Dn||s instanceof be||s instanceof zd||s instanceof ni)}function Pd(s,e,i){if(!Zv(i)||!L_(i)){const a=hd(i);throw a==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+a)}}function rd(s,e,i){if((e=Oi(e))instanceof yc)return e._internalPath;if(typeof e=="string")return Bd(s,e);throw nc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Cb=new RegExp("[~\\*/\\[\\]]");function Bd(s,e,i){if(e.search(Cb)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yc(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new at(K.INVALID_ARGUMENT,p+s+v)}function $v(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Wv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Vb extends Jv{data(){return super.data()}}function Wv(s,e){return typeof e=="string"?Bd(s,e):e instanceof yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ob{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Yo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new ni(h)}convertGeoPoint(e){return new ei(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ac(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);kt(Tv(a),9688,{name:e});const u=new Zl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends Jv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Wv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:ye("string",ha._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class ko extends ha{data(e={}){return super.data(e)}}class ms{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new kl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new ko(this._firestore,this._userDataWriter,a.key,a,new kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new ko(u._firestore,u._userDataWriter,p.doc.key,p.doc,new kl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new ko(u._firestore,u._userDataWriter,p.doc.key,p.doc,new kl(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Mb(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}ms._jsonSchemaVersion="firestore/querySnapshot/1.0",ms._jsonSchema={type:ye("string",ms._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class t0 extends Ob{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function xb(s,e,i,...a){s=mr(s,be);const u=mr(s.firestore,Es),h=Xv(u);let d;return d=typeof(e=Oi(e))=="string"||e instanceof yc?Db(h,"updateDoc",s._key,e,i,a):wb(h,"updateDoc",s._key,e),kd(u,[d.toMutation(s._key,xn.exists(!0))])}function Ub(s){return kd(mr(s.firestore,Es),[new vd(s._key,xn.none())])}function zb(s,e){const i=mr(s.firestore,Es),a=id(s),u=Nb(s.converter,e);return kd(i,[Rb(Xv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,xn.exists(!1))]).then(()=>a)}function Lb(s,...e){var i,a,u;s=Oi(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||p_(e[d])||(h=e[d++]);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(p_(e[d])){const D=e[d];e[d]=(i=D.next)===null||i===void 0?void 0:i.bind(D),e[d+1]=(a=D.error)===null||a===void 0?void 0:a.bind(D),e[d+2]=(u=D.complete)===null||u===void 0?void 0:u.bind(D)}let v,_,A;if(s instanceof be)_=mr(s.firestore,Es),A=yd(s._key.path),v={next:D=>{e[d]&&e[d](Pb(_,s,D))},error:e[d+1],complete:e[d+2]};else{const D=mr(s,pc);_=mr(D.firestore,Es),A=D._query;const I=new t0(_);v={next:G=>{e[d]&&e[d](new ms(_,I,D,G))},error:e[d+1],complete:e[d+2]},Ib(s._query)}return function(I,G,Z,nt){const $=new mb(nt),Et=new KS(G,$,Z);return I.asyncQueue.enqueueAndForget(async()=>QS(await o_(I),Et)),()=>{$.Ou(),I.asyncQueue.enqueueAndForget(async()=>FS(await o_(I),Et))}}(Qv(_),A,p,v)}function kd(s,e){return function(a,u){const h=new ca;return a.asyncQueue.enqueueAndForget(async()=>ab(await yb(a),u,h)),h.promise}(Qv(s),e)}function Pb(s,e,i){const a=i.docs.get(e._key),u=new t0(s);return new ha(s,u,e._key,a,new kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){As=u})(u1),Go(new Fl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Es(new b1(a.getProvider("auth-internal")),new D1(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),fs(vy,Ey,e),fs(vy,Ey,"esm2017")})();const Bb={apiKey:"AIzaSyCreNwV4mdW8G7RJ3ejW92LYIWkNWgEC0w",authDomain:"todo-list-39927.firebaseapp.com",projectId:"todo-list-39927",storageBucket:"todo-list-39927.firebasestorage.app",messagingSenderId:"550487656788",appId:"1:550487656788:web:0568216c071996f02f20c1"},kb=b_(Bb),Uf=Eb(kb),qb=()=>{const s=vb(Uf,"todos"),[e,i]=zl.useState(""),[a,u]=zl.useState([]),[h,d]=zl.useState(null);zl.useEffect(()=>{const A=Lb(s,D=>{u(D.docs.map(I=>({...I.data(),id:I.id})))});return()=>A()},[]);const p=async()=>{if(e.trim()!=="")try{if(h){const A=id(Uf,"todos",h);await xb(A,{text:e}),d(null)}else await zb(s,{text:e});i("")}catch(A){console.error("Error saving todo:",A)}},v=async A=>{try{await Ub(id(Uf,"todos",A))}catch(D){console.error("Error deleting todo:",D)}},_=A=>{const D=a.find(I=>I.id===A);D&&(i(D.text),d(A))};return pe.jsxs(pe.Fragment,{children:[pe.jsx("div",{className:"todo-form-container",children:pe.jsxs("div",{className:"todo-form-sub",children:[pe.jsx("h1",{children:"To Do List"}),pe.jsx("input",{type:"text",placeholder:"Enter Your Task",value:e,onChange:A=>i(A.target.value)}),pe.jsx("button",{onClick:p,children:h!=null?"Update Task":"Add Task"})]})}),pe.jsx("div",{className:"show-todo",children:pe.jsx(zE,{todo:a,deleteTodos:v,editTodo:_})})]})};function jb(){return pe.jsx(pe.Fragment,{children:pe.jsx(qb,{})})}xE.createRoot(document.getElementById("root")).render(pe.jsx(zl.StrictMode,{children:pe.jsx(jb,{})}));
